(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(39),s=n.n(r),o=n(10),i=n(5),l=(n(71),n(9)),u=n(6),d=n(60),j=n(1),b=c.a.createContext(),m=function(){return Object(a.useContext)(b)},h=function(e){var t=e.children,n=Object(a.useState)(),c=Object(u.a)(n,2),r=c[0],s=c[1],o=Object(i.c)((function(e){return e.user}));return Object(a.useEffect)((function(){var e=Object(d.a)("https://skid.today",{auth:{token:o.token||null}});return s(e),function(){return e.close()}}),[o]),Object(j.jsx)(b.Provider,{value:r,children:t})},p=(n(42),n(78),n(36),n(22)),O=(n(79),function(){return Object(j.jsxs)("div",{className:"home-navbar",children:[Object(j.jsxs)("div",{className:"left-items",children:[Object(j.jsxs)("h1",{className:"left-title",children:[Object(j.jsx)("span",{className:"title-color-change",children:"skid"})," ",Object(j.jsx)("span",{className:"smol",children:"v1.4.1"})]}),Object(j.jsx)("a",{href:"https://github.com/ulnk/skid",className:"left-item",children:"Features"}),Object(j.jsx)("a",{href:"https://github.com/ulnk/skid",className:"left-item",children:"GitHub"}),Object(j.jsx)("a",{href:"https://github.com/ulnk/skid",className:"left-item",children:"About"})]}),Object(j.jsx)("div",{className:"right-items",children:Object(j.jsx)(o.b,{to:"/login",children:Object(j.jsx)("button",{className:"login-button",children:"Login"})})})]})}),f=function(){var e=["Blasting NBA Youngboy on OBlock, been in the game since '02.","P2P Encryption.","14.2 Million Bots Connected.","Pushin' P.","Central Cee > OBlock.","OBlock smoking on Tooka.","Built using BQN.","You wouldn't steal a car.","Gunna & Future - pushin P (feat. Young Thug) [Official Video]","I can rhyme Orange and Banana. Bornana.","Miria Botnet < Brixton Botnet.","NOTDS Multitool.","Killer Whales at SeaWorld\u2122\ufe0f","Osaka > Horion.","skid  oxygen when?","Jesus died for chocolate eggs.","Visual Basic Botnet.","decrypt0r.cs","Cookie Clicker?","When it rains, it pours.","Mike Amiri, Mike Amiri.","Trap House Mob.","Horion Wallet Miner.","One Bot Botnet\u2122\ufe0f","horion.site"],t=[],n=function n(){var a=Math.floor(Math.random()*e.length),c=e[a];return t.includes(e[a])?n():(t.push(e[a]),c)},c=Object(a.useState)([n(),n()]),r=Object(u.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)(0),l=Object(u.a)(i,2),d=(l[0],l[1]),b=function(e){d((function(e){return e+1}))};return Object(a.useEffect)((function(){return document.addEventListener("click",b),function(){return document.removeEventListener("click",b)}}),[]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsxs)("div",{className:"home-body",children:[Object(j.jsx)(O,{}),Object(j.jsxs)("div",{className:"home-header",children:[Object(j.jsx)("h1",{className:"home-header-title",children:s[0]}),Object(j.jsx)("span",{className:"home-header-desc",children:s[1]}),Object(j.jsxs)("div",{className:"home-buttons-container",children:[Object(j.jsx)("span",{onClick:function(){window.location="https://github.com/ulnk/skid"},children:Object(j.jsxs)("button",{className:"home-github-main",children:[Object(j.jsx)(p.c,{className:"github-icon"}),"Check out our GitHub!"]})}),Object(j.jsx)("span",{onClick:function(){window.location="/skid/@me"},children:Object(j.jsx)("button",{className:"home-login-main",children:"Open Skid in your browser"})}),Object(j.jsx)("span",{onClick:function(){},children:Object(j.jsx)("button",{onClick:function(){o([n(),n()]),t=[]},className:"home-red-main",children:"Regenerate Quotes"})})]})]})]}),Object(j.jsx)("div",{className:"home-bottom"})]})},v=n(4),x=n(3),g=n.n(x),y=n(8),N=n(7),k=n.n(N),E=function(e,t){return e&&t?k.a.post("https://skid.today/api/v1/user/login",{username:e,password:t}):null},S=function(e,t){return e&&t?k.a.post("https://skid.today/api/v1/user/register",{username:e,password:t}):null},C=function(e){return e?k.a.post("https://skid.today/api/v1/user/image",{imageLink:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},w=function(e,t){return function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.post("https://skid.today/api/v1/user/test",{},{headers:{"x-auth-token":localStorage.getItem("token")}});case 3:n=e.sent,a=n.data,t({type:"AUTH",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:"LOGOUT",payload:null});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},I=function(e){var t=Object(a.useState)(!0),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(i.c)((function(e){return e.user})),d=Object(l.f)(),b=Object(a.useState)(""),m=Object(u.a)(b,2),h=m[0],p=m[1],O=Object(a.useState)(""),f=Object(u.a)(O,2),v=f[0],x=f[1],N=Object(i.b)();return Object(a.useEffect)((function(){e.show&&r(!1)}),[e]),Object(a.useEffect)((function(){s._id&&d("/skid/@me")}),[s,d]),Object(j.jsx)("form",{className:"modal-body",onSubmit:function(e){e.preventDefault(),N(function(e,t){return function(){var n=Object(y.a)(g.a.mark((function n(a){var c,r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,E(e,t);case 3:c=n.sent,r=c.data,a({type:"LOGIN",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(h,v))},children:Object(j.jsxs)("div",{className:"modal-container background-primary ".concat(c?"":"show"),children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsxs)("div",{className:"modal-form-header",children:[Object(j.jsx)("span",{className:"modal-header-title",children:"Welcome Back!"}),Object(j.jsx)("small",{className:"modal-header-desc",children:"We're so glad to see you again!"})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"USERNAME"}),Object(j.jsx)("input",{type:"text",className:"modal-form-input",value:h,onChange:function(e){return p(e.target.value)},placeholder:""})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"PASSWORD"}),Object(j.jsx)("input",{type:"password",className:"modal-form-input",value:v,onChange:function(e){return x(e.target.value)},placeholder:""}),Object(j.jsx)("span",{className:"login-register",children:Object(j.jsx)(o.b,{to:"/recover",className:"register-button",children:"Forgot your password?"})})]})]}),Object(j.jsx)("button",{type:"submit",className:"submit-button-long",children:"Login"}),Object(j.jsxs)("span",{className:"login-register-below",children:["Need an account? ",Object(j.jsx)(o.b,{to:"/register",className:"register-button",children:"Register"})]})]})})},_=function(e){return Object(j.jsx)("div",{className:"body",children:Object(j.jsx)(I,Object(v.a)({},e))})},A=function(e){var t=Object(a.useState)(!0),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(i.c)((function(e){return e.user})),d=Object(l.f)(),b=Object(a.useState)(""),m=Object(u.a)(b,2),h=m[0],p=m[1],O=Object(a.useState)(""),f=Object(u.a)(O,2),v=f[0],x=f[1],N=Object(a.useState)(""),k=Object(u.a)(N,2),E=k[0],C=k[1],w=Object(i.b)(),I=function(){return h.length<1||v.length<1||E.length<1?T("Invalid form."):h.includes(" ")||h.includes("#")||h.includes('"')||h.includes("'")||h.includes("&")||h.includes("@")||h.includes("~")||h.includes("/")||h.includes(",")||h.includes(">")?T("Username must not contain special characters including: # ' \" & @ ~ / > < "):v.includes(" ")?T("Password cannot include spaces."):h.length<5?T("Username must be larger than 4 characters."):h.length>15?T("Username must be less than 15 characters."):v!==E?T("Passwords do not match."):void w(function(e,t){return function(){var n=Object(y.a)(g.a.mark((function n(a){var c,r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S(e,t);case 3:c=n.sent,r=c.data,a({type:"REGISTER",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(h,v))};Object(a.useEffect)((function(){e.show&&r(!1)}),[e]),Object(a.useEffect)((function(){s._id&&d("/skid/@me")}),[s,d]);var _=Object(a.useState)(""),A=Object(u.a)(_,2),R=A[0],T=A[1];return Object(j.jsx)("form",{className:"modal-body",onSubmit:function(e){e.preventDefault(),I()},children:Object(j.jsxs)("div",{className:"modal-container background-primary ".concat(c?"":"show"),children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsxs)("div",{className:"modal-form-header",children:[Object(j.jsx)("span",{className:"modal-header-title",children:"Create an account"}),Object(j.jsx)("small",{className:"modal-err-desc",children:R})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"USERNAME"}),Object(j.jsx)("input",{type:"text",className:"modal-form-input",value:h,onChange:function(e){return p(e.target.value)},placeholder:""})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"PASSWORD"}),Object(j.jsx)("input",{type:"password",className:"modal-form-input",value:v,onChange:function(e){return x(e.target.value)},placeholder:""})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"CONFIRM PASSWORD"}),Object(j.jsx)("input",{type:"password",className:"modal-form-input",value:E,onChange:function(e){return C(e.target.value)},placeholder:""})]})]}),Object(j.jsx)("button",{type:"submit",className:"submit-button-long",children:"Register"}),Object(j.jsxs)("span",{className:"login-register-below",children:["Already have an account? ",Object(j.jsx)(o.b,{to:"/login",className:"register-button",children:"Login"})]})]})})},R=function(e){return Object(j.jsx)("div",{className:"body",children:Object(j.jsx)(A,Object(v.a)({},e))})},T=function(e){return k.a.get("https://skid.today"+"/api/v1/user/getAllOnlineUsers?serverId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}})},L=function(e){return e?k.a.get("https://skid.today"+"/api/v1/server/getServer?serverId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},G=function(e){return e?k.a.post("https://skid.today/api/v1/server/createServer",{serverName:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},M=function(e){return e?k.a.post("https://skid.today/api/v1/server/deleteServer",{serverId:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},V=function(e){return e?k.a.post("https://skid.today/api/v1/server/leaveServer",{serverId:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},H=function(){return function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("https://skid.today/api/v1/server/getAllServers",{headers:{"x-auth-token":localStorage.getItem("token")}});case 3:n=e.sent,a=n.data,t({type:"GET_ALL_SERVERS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G(e);case 3:a=t.sent,c=a.data,n({type:"CREATE_SERVER",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},B=function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,T(e);case 3:a=t.sent,c=a.data,n({type:"GET_ALL_ONLINE_USERS",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},F=(n(99),function(e){return e?k.a.get("https://skid.today"+"/api/v1/channel/getAllChannels?serverId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null}),U=function(e){return e?k.a.get("https://skid.today"+"/api/v1/channel/getChannel?channelId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},P=function(e,t,n){return e&&t&&n?k.a.post("https://skid.today/api/v1/channel/createChannel",{serverId:e,categoryId:t,channelName:n},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},J=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(i.c)((function(e){return e.user})),o=Object(i.b)(),l=function(){var t=Object(y.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),o(D(c)),r(""),e.close(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=Object(a.useCallback)((function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-new-server").click()}),[e]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",d,!1),function(){return document.removeEventListener("keydown",d,!1)}}),[d]),Object(j.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:l,children:Object(j.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsxs)("div",{className:"modal-form-header-app",children:[Object(j.jsx)("span",{className:"modal-header-title-app",children:"Create server"}),Object(j.jsx)("small",{className:"modal-header-desc-app",children:"Give your new server a personality with a name. You can always change it later."})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"SERVER NAME"}),Object(j.jsx)("input",{type:"text",className:"modal-form-input",value:c,onChange:function(e){return r(e.target.value)},placeholder:"".concat(s.username,"'s server")})]})]}),Object(j.jsxs)("div",{className:"options-container background-secondary",children:[Object(j.jsx)("button",{type:"button",className:"cancel-button",onClick:function(){e.close(!1),r("")},children:"Cancel"}),Object(j.jsx)("button",{type:"button",className:"cancel-button",onClick:function(){e.join(!0),e.close(!1),r("")},children:"Join a Server"}),Object(j.jsx)("button",{type:"submit",id:"submit-new-server",className:"submit-button",children:"Create server"})]})]})})},Y=function(e){return e?k.a.get("https://skid.today"+"/api/v1/invite/getInviteFromServer?serverId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},W=function(e){return e?k.a.get("https://skid.today"+"/api/v1/invite/getServerFromInvite?inviteCode=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},Z=function(e,t){return e?k.a.post("https://skid.today/api/v1/invite/createInvite",{serverId:e,inviteCode:t},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},z=function(e){return e?k.a.post("https://skid.today/api/v1/invite/joinInvite",{inviteCode:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},Q=function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z(e);case 3:a=t.sent,c=a.data,n({type:"JOIN_INVITE",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},K=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(u.a)(s,2),l=o[0],d=o[1],b=Object(i.b)(),m=function(e){if(""===(e=(e=(e=e.split(":").at(-1).split("//").at(-1).split("skid.rocks/invite").at(-1).split("skid.today/invite").at(-1)).split("/")[1]||e.split("/").at(-1)).replace(/\s+/g,"")))return d("Invite is invalid or expired.");d(""),r(e)},h=Object(a.useCallback)((function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-join-channel").click()}),[e]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",h,!1),function(){return document.removeEventListener("keydown",h,!1)}}),[h]),Object(j.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:function(t){t.preventDefault(),m(c),b(Q(c)),e.close(!1)},children:Object(j.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsxs)("div",{className:"modal-form-header-app",children:[Object(j.jsx)("span",{className:"modal-header-title-app",children:"Join server"}),Object(j.jsx)("small",{className:"modal-header-desc-app",children:"Enter an invite below to join an existing server."})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsxs)("span",{className:"modal-form-input-header ".concat(""!==l&&"error-invite"),children:["Invite Link ",""!==l&&"- ".concat(l)]}),Object(j.jsx)("input",{type:"text",className:"modal-form-input",value:c,onChange:function(e){return r(e.target.value)},placeholder:"skid.today/invite/aO9yuf"})]})]}),Object(j.jsxs)("div",{className:"options-container background-secondary",children:[Object(j.jsx)("button",{type:"button",className:"cancel-button",onClick:function(){e.close(!1),r("")},children:"Cancel"}),Object(j.jsx)("button",{type:"submit",id:"submit-join-channel",className:"submit-button",children:"Join server"})]})]})})},q=function(){var e=Object(a.useState)([]),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(u.a)(r,2),d=s[0],b=s[1],h=Object(a.useState)(!1),O=Object(u.a)(h,2),f=O[0],v=O[1],x=Object(i.c)((function(e){return e.channel.allServerChannels})),N=Object(i.c)((function(e){return e.server.allServers})),E=Object(i.c)((function(e){return e.server.global})),S=Object(i.c)((function(e){return e.channel.redirectToChannel})),C=Object(l.g)(),w=C.serverId,I=C.channelId,_=Object(i.b)(),A=Object(l.f)(),R=m();return Object(a.useEffect)((function(){R&&R.on("deleteServer",(function(e){_(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"HIDE_SERVER",payload:e})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(w)),w===e&&A("/skid/@me")}))}),[w,R,_,A]),Object(a.useEffect)((function(){c(N)}),[N]),Object(a.useEffect)((function(){_(function(){var e=Object(y.a)(g.a.mark((function e(t){var n,a;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("https://skid.today/api/v1/server/getGlobalServer",{headers:{"x-auth-token":localStorage.getItem("token")}});case 3:n=e.sent,a=n.data,t({type:"GLOBAL_SERVER",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(a.useEffect)((function(){_(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,F(e);case 5:a=t.sent,c=a.data,n({type:"GET_ALL_CHANNELS",payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(w))}),[w,_]),Object(a.useEffect)((function(){"redirect"!==I&&"null"!==I&&_(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,U(e);case 5:a=t.sent,c=a.data,n({type:"GET_CHANNEL",payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(I))}),[I,_]),Object(a.useEffect)((function(){S&&(w&&(x.filter((function(e){return e.server===w&&e._id===I}))[0]||A("/skid/".concat(w,"/").concat(S))))}),[w,I,S,x,A]),Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(J,{show:d,close:b,join:v}),Object(j.jsx)(K,{show:f,close:v}),Object(j.jsxs)("div",{className:"navbar background-tertiary",children:[Object(j.jsxs)(o.b,{to:"/skid/@me",children:[Object(j.jsx)("div",{className:"selected-noti ".concat(w?null:"active")}),Object(j.jsxs)("div",{className:"navbar-server hover-skid background-primary ".concat(w?null:"home-selected"),children:[Object(j.jsx)("svg",{className:"server-icon","aria-hidden":"false",width:"28",height:"20",viewBox:"0 0 28 20",children:Object(j.jsx)("path",{fill:"currentColor",d:"M23.0212 1.67671C21.3107 0.879656 19.5079 0.318797 17.6584 0C17.4062 0.461742 17.1749 0.934541 16.9708 1.4184C15.003 1.12145 12.9974 1.12145 11.0283 1.4184C10.819 0.934541 10.589 0.461744 10.3368 0.00546311C8.48074 0.324393 6.67795 0.885118 4.96746 1.68231C1.56727 6.77853 0.649666 11.7538 1.11108 16.652C3.10102 18.1418 5.3262 19.2743 7.69177 20C8.22338 19.2743 8.69519 18.4993 9.09812 17.691C8.32996 17.3997 7.58522 17.0424 6.87684 16.6135C7.06531 16.4762 7.24726 16.3387 7.42403 16.1847C11.5911 18.1749 16.408 18.1749 20.5763 16.1847C20.7531 16.3332 20.9351 16.4762 21.1171 16.6135C20.41 17.0369 19.6639 17.3997 18.897 17.691C19.3052 18.4993 19.7718 19.2689 20.3021 19.9945C22.6677 19.2689 24.8929 18.1364 26.8828 16.6466H26.8893C27.43 10.9731 25.9665 6.04728 23.0212 1.67671ZM9.68041 13.6383C8.39754 13.6383 7.34085 12.4453 7.34085 10.994C7.34085 9.54272 8.37155 8.34973 9.68041 8.34973C10.9893 8.34973 12.0395 9.54272 12.0187 10.994C12.0187 12.4453 10.9828 13.6383 9.68041 13.6383ZM18.3161 13.6383C17.0332 13.6383 15.9765 12.4453 15.9765 10.994C15.9765 9.54272 17.0124 8.34973 18.3161 8.34973C19.6184 8.34973 20.6751 9.54272 20.6543 10.994C20.6543 12.4453 19.6184 13.6383 18.3161 13.6383Z"})}),Object(j.jsx)("span",{className:"tool",children:"Home"})]})]}),n[0]||E._id?Object(j.jsx)("div",{className:"divider background-primary"}):null,E._id&&Object(j.jsxs)(o.b,{to:"/skid/".concat(E._id,"/redirect"),children:[Object(j.jsx)("div",{className:"selected-noti ".concat(E._id===w?"active":null)}),Object(j.jsxs)("div",{className:"navbar-server  hover-skid background-primary ".concat(E._id===w?"home-selected":null),children:[Object(j.jsx)(p.d,{className:"server-title global"}),Object(j.jsx)("span",{className:"tool",children:E.name})]})]},-1),n.map((function(e,t){var n,a;return e?Object(j.jsxs)(o.b,{to:"/skid/".concat(e._id,"/redirect"),children:[Object(j.jsx)("div",{className:"selected-noti ".concat(e._id===w?"active":null)}),Object(j.jsxs)("div",{className:"navbar-server hover-skidr background-primary ".concat(e._id===w?"home-selected":null),children:[Object(j.jsxs)("span",{className:"server-title",children:[null===(n=e.name.split(" ")[0])||void 0===n?void 0:n.slice(0,1),null===(a=e.name.split(" ")[1])||void 0===a?void 0:a.slice(0,1)]}),Object(j.jsx)("span",{className:"tool",children:e.name})]})]},t):null})),Object(j.jsx)("div",{className:"divider background-primary"}),Object(j.jsxs)("div",{className:"navbar-server hover-site background-primary",onClick:function(){return b(!0)},children:[Object(j.jsx)("svg",{"aria-hidden":"false",width:"24",height:"24",viewBox:"0 0 24 24",children:Object(j.jsx)("path",{fill:"currentColor",d:"M20 11.1111H12.8889V4H11.1111V11.1111H4V12.8889H11.1111V20H12.8889V12.8889H20V11.1111Z"})}),Object(j.jsx)("span",{className:"tool",children:"Add a server"})]})]})]})},X=(n(100),function(e){return e?k.a.get("https://skid.today"+"/api/v1/category/getAllCategories?serverId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null}),$=function(e,t){return e&&t?k.a.post("https://skid.today/api/v1/category/createCategory",{serverId:e,categoryName:t},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},ee=function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"REMINDER",payload:e||JSON.parse(localStorage.getItem("reminder"))})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},te=(n(101),function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(i.b)(),o=Object(l.g)().serverId,d=Object(a.useCallback)((function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-new-category").click()}),[e]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",d,!1),function(){return document.removeEventListener("keydown",d,!1)}}),[d]),Object(j.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:function(t){t.preventDefault(),s(function(e,t){return function(){var n=Object(y.a)(g.a.mark((function n(a){var c,r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,$(e,t);case 3:c=n.sent,r=c.data,a({type:"CREATE_CATEGORY",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(o,c)),r(""),e.close(!1)},children:Object(j.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsx)("div",{className:"modal-form-header",children:Object(j.jsx)("span",{className:"modal-header-title",children:"Create category"})}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"CATEGORY NAME"}),Object(j.jsx)("input",{type:"text",className:"modal-form-input",value:c,onChange:function(e){return r(e.target.value)},placeholder:"New category"})]})]}),Object(j.jsxs)("div",{className:"options-container background-secondary",children:[Object(j.jsx)("button",{type:"button",onClick:function(){return e.close(!1)},className:"cancel-button",children:"Cancel"}),Object(j.jsx)("button",{type:"submit",id:"submit-new-category",className:"submit-button",children:"Create category"})]})]})})}),ne=n(56),ae=(n(102),function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(i.b)(),o=Object(l.g)().serverId,d=Object(a.useCallback)((function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-new-channel").click()}),[e]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",d,!1),function(){return document.removeEventListener("keydown",d,!1)}}),[d]),Object(j.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:function(t){t.preventDefault(),s(function(e,t,n){return function(){var a=Object(y.a)(g.a.mark((function a(c){var r,s;return g.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,P(e,t,n);case 3:r=a.sent,s=r.data,c({type:"CREATE_CHANNEL",payload:s}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(o,e.categoryId,c)),r(""),e.setCategoryId(""),e.close(!1)},children:Object(j.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsxs)("div",{className:"modal-form-header",children:[Object(j.jsx)("span",{className:"modal-header-title",children:"Create text channel"}),Object(j.jsxs)("small",{className:"modal-header-desc",children:["in ",e.categoryId]})]}),Object(j.jsxs)("div",{className:"modal-select-container",children:[Object(j.jsx)("span",{className:"modal-select-header",children:"CHANNEL TYPE"}),Object(j.jsxs)("div",{className:"modal-type-container",children:[Object(j.jsxs)("div",{className:"modal-select-type modal-selected-type",children:[Object(j.jsx)("div",{className:"select-check-wrapper",children:Object(j.jsx)("div",{className:"select-check"})}),Object(j.jsx)(p.e,{className:"select-type-icon"}),Object(j.jsxs)("div",{className:"select-type-info",children:[Object(j.jsx)("span",{className:"select-type-name",children:"Text Channel"}),Object(j.jsx)("small",{className:"select-type-desc",children:"Post images, GIFs, opinions and puns"})]})]}),Object(j.jsxs)("div",{className:"modal-select-type modal-select-hover",children:[Object(j.jsx)("div",{className:"unselect-check-wrapper",children:Object(j.jsx)("div",{className:"unselect-check"})}),Object(j.jsx)(ne.a,{className:"select-type-icon"}),Object(j.jsxs)("div",{className:"select-type-info",children:[Object(j.jsx)("span",{className:"select-type-name",children:"Voice Channel"}),Object(j.jsx)("small",{className:"select-type-desc",children:"Hang out with voice, video and screen sharing"})]})]})]})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"CHANNEL NAME"}),Object(j.jsx)("input",{type:"text",className:"modal-form-input",value:c,onChange:function(e){r(e.target.value)},placeholder:"new-channel"})]})]}),Object(j.jsxs)("div",{className:"options-container background-secondary",children:[Object(j.jsx)("button",{type:"button",onClick:function(){e.setCategoryId(""),e.close(!1)},className:"cancel-button",children:"Cancel"}),Object(j.jsx)("button",{type:"submit",id:"submit-new-channel",className:"submit-button",children:"Create channel"})]})]})})}),ce=(n(103),function(e){var t=Object(l.g)().serverId,n=Object(a.useState)(t.slice(-6,-1)),c=Object(u.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(!1),d=Object(u.a)(o,2),b=d[0],m=d[1],h=Object(a.useState)(""),p=Object(u.a)(h,2),O=p[0],f=p[1],v=Object(a.useState)(!1),x=Object(u.a)(v,2),N=x[0],k=x[1],E=Object(i.b)(),S=Object(i.c)((function(e){return e.invite.allInvites})),C=Object(a.useState)(),w=Object(u.a)(C,2),I=w[0],_=w[1];Object(a.useEffect)((function(){var e=S.filter((function(e){return e.server===t}));m(void 0!==e[0]),e[0]&&f(e[0].invite)}),[t,S]);var A=Object(a.useCallback)((function(t){"Escape"===t.key&&e.close(!1)}),[e]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",A,!1),function(){return document.removeEventListener("keydown",A,!1)}}),[A]),b?Object(j.jsx)("div",{className:"modal-underbody ".concat(e.show&&"show"),children:Object(j.jsx)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsx)("div",{className:"modal-form-header-invite",children:Object(j.jsx)("span",{className:"modal-header-title-invite",children:"Invite friends to the server!"})}),Object(j.jsxs)("div",{className:"modal-form-input-container-invite",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"SERVER INVITE"}),Object(j.jsxs)("div",{className:"modal-form-input-readonly-container",children:[Object(j.jsx)("input",{type:"text",className:"modal-form-input-readonly",value:O,readOnly:!0}),Object(j.jsx)("button",{type:"button",className:"modal-form-button-readonly-copy ".concat(N&&"green"),onClick:function(){k(!0),navigator.clipboard.writeText("".concat(O)),clearTimeout(I);var e=setTimeout((function(){k(!1)}),1e3);_(e)},children:N?"Copied":"Copy"})]})]})]})})}):Object(j.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:function(e){e.preventDefault(),E(function(e,t){return function(){var n=Object(y.a)(g.a.mark((function n(a){var c,r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Z(e,t);case 3:c=n.sent,r=c.data,a({type:"CREATE_INVITE",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(t,r))},children:Object(j.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsxs)("div",{className:"modal-form-header",children:[Object(j.jsx)("span",{className:"modal-header-title",children:"Create Server Invite"}),Object(j.jsx)("small",{className:"modal-header-desc",children:"Give your server personality with a custom invite."})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"SERVER INVITE"}),Object(j.jsx)("input",{type:"text",className:"modal-form-input",value:r,onChange:function(e){return s(e.target.value)},placeholder:"fun-server"})]})]}),Object(j.jsxs)("div",{className:"options-container background-secondary",children:[Object(j.jsx)("button",{type:"button",onClick:function(){return e.close(!1)},className:"cancel-button",children:"Cancel"}),Object(j.jsx)("button",{type:"submit",id:"submit-new-category",className:"submit-button",children:"Create Server Invite"})]})]})})}),re=n(28),se=n(57),oe=(n(104),function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(i.c)((function(e){return e.user})),o=Object(i.b)();Object(a.useEffect)((function(){r(s.image)}),[s]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"settings ".concat(e.class),children:[Object(j.jsx)("div",{className:"close",onClick:function(){return e.close(!1)},children:Object(j.jsx)(re.a,{size:"18"})}),Object(j.jsx)("section",{className:"tabs",children:Object(j.jsxs)("ul",{className:"tab-buttons-container",children:[Object(j.jsxs)("div",{className:"tab-section",children:[Object(j.jsx)("span",{className:"font-display section-title",children:"USER SETTINGS"}),Object(j.jsxs)("div",{className:"section-items",children:[Object(j.jsx)("button",{className:"section-button text-channel-colour selected",children:"My Account"}),Object(j.jsx)("button",{className:"section-button text-channel-colour",children:"User Profile"}),Object(j.jsx)("button",{className:"section-button text-channel-colour",children:"Privacy & Safety"}),Object(j.jsx)("button",{className:"section-button text-channel-colour",children:"Authorised Apps"}),Object(j.jsx)("button",{className:"section-button text-channel-colour",children:"Connections"})]})]}),Object(j.jsx)("div",{className:"divider-options"}),Object(j.jsx)("form",{className:"tab-section",onSubmit:function(){o(function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"LOGOUT",payload:null})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:Object(j.jsx)("button",{type:"submit",className:"section-button logout text-channel-colour",children:"Logout"})})]})}),Object(j.jsxs)("section",{className:"options",children:[Object(j.jsx)("div",{className:"header-title-option",children:"My Account"}),Object(j.jsxs)("form",{className:"option",onSubmit:function(e){var t;e.preventDefault(),o((t=c,function(){var e=Object(y.a)(g.a.mark((function e(n){var a,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C(t);case 3:a=e.sent,c=a.data,n({type:"IMAGE",payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(j.jsx)("span",{className:"option-title",children:"Profile Picture URL"}),Object(j.jsx)("input",{type:"url",className:"modal-form-input-o",pattern:"https://.*",value:c||"https://cdn.skid.today/img/1f0bfc0865d324c2587920a7d80c609b.png",onChange:function(e){return r(e.target.value)},placeholder:""}),Object(j.jsx)("button",{type:"submit",className:"submit-button-save",children:"Save"})]})]})]})})}),ie=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),o=Object(u.a)(s,2),l=o[0],d=o[1],b=Object(i.c)((function(e){return e.user}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(oe,{close:r,class:"".concat(c&&"active")}),Object(j.jsxs)("section",{className:"user-info background-secondary-alt ".concat(e.className),children:[Object(j.jsxs)("div",{className:"profile-container",children:[Object(j.jsx)("img",{className:"profile-image",src:b.image||"https://cdn.skid.today/img/1f0bfc0865d324c2587920a7d80c609b.png",alt:""}),Object(j.jsxs)("div",{className:"profile-name-container",children:[Object(j.jsx)("span",{className:"profile-name",children:b.username}),Object(j.jsx)("small",{className:"profile-tag",children:b._id})]})]}),Object(j.jsxs)("div",{className:"buttons-container",children:[Object(j.jsxs)("div",{className:"button-wrapper",onClick:function(){return d(!l)},children:[Object(j.jsx)("span",{className:"button-tool",children:l?"Unmute":"Mute"}),l?Object(j.jsx)(re.c,{className:"button"}):Object(j.jsx)(re.b,{className:"button"})]}),Object(j.jsxs)("div",{className:"button-wrapper",onClick:function(){return r(!0)},children:[Object(j.jsx)("span",{className:"button-tool",children:"Settings"}),Object(j.jsx)(se.a,{className:"button"})]})]})]})]})},le=function(e){var t=Object(a.useState)(!0),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(l.g)(),d=s.serverId,b=s.channelId,m=Object(i.c)((function(e){return e.channel.allServerChannels}));return Object(j.jsxs)("div",{className:"category",children:[Object(j.jsxs)("div",{className:"category-header text-channel-colour-group",children:[c?Object(j.jsx)(p.a,{className:"category-chevron colour-group-item",onClick:function(){return r(!c)}}):Object(j.jsx)(p.b,{className:"category-chevron colour-group-item",onClick:function(){return r(!c)}}),Object(j.jsx)("span",{className:"category-header-text font-display colour-group-item",onClick:function(){return r(!c)},children:e.category.name.toUpperCase()}),Object(j.jsx)(p.f,{className:"category-add colour-group-item",onClick:function(){e.setShowNewChannelModal(!0),e.setCategoryId(e.category._id)}})]}),Object(j.jsx)("div",{className:"children",children:m.filter((function(t){return t.category===e.category._id})).map((function(e,t){return c&&Object(j.jsx)(o.b,{to:"/skid/".concat(d,"/").concat(e._id),children:Object(j.jsxs)("div",{className:"channel text-channel-colour ".concat(b===e._id?"selected":""),children:[Object(j.jsx)(p.e,{className:"channel-hashtag text-channel-colour"}),Object(j.jsx)("span",{className:"channel-title font-primary",children:e.name})]})},t)}))})]})},ue=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(u.a)(r,2),o=s[0],d=s[1],b=Object(a.useState)(!1),h=Object(u.a)(b,2),O=h[0],f=h[1],v=Object(a.useState)(""),x=Object(u.a)(v,2),N=x[0],k=x[1],E=Object(a.useState)(!1),S=Object(u.a)(E,2),C=S[0],w=S[1],I=Object(a.useState)([]),_=Object(u.a)(I,2),A=_[0],R=_[1],T=Object(a.useRef)(),G=Object(i.c)((function(e){return e.other.reminder})),H=Object(i.c)((function(e){return e.server.currentServer})),D=Object(i.c)((function(e){return e.server.global})),B=Object(i.c)((function(e){return e.category.allServerCategories})),F=Object(i.c)((function(e){return e.user})),U=Object(l.g)(),P=U.serverId,J=U.channelId,W=Object(l.f)(),Z=Object(i.b)(),z=m();Object(a.useEffect)((function(){Z(ee()),Z(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L(e);case 3:a=t.sent,c=a.data,n({type:"GET_SERVER",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(P)),Z(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,X(e);case 3:a=t.sent,c=a.data,n({type:"GET_ALL_CATEGORIES",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(P)),Z(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y(e);case 3:a=t.sent,c=a.data,n({type:"GET_INVITE",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(P))}),[Z,P,J]),Object(a.useEffect)((function(){R(B)}),[B]);var Q=Object(a.useCallback)((function(e){if(n)return T.current&&!T.current.contains(e.target)?c(!1):void 0}),[n]);Object(a.useEffect)((function(){return document.addEventListener("click",Q),function(){return document.removeEventListener("click",Q)}}),[n,Q]);var K=function(){z.emit("deleteServer",P),Z(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,M(e);case 3:n({type:"DELETE_SERVER",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(P)),W("/skid/@me")},q=function(){Z(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,V(e);case 3:n({type:"LEAVE_SERVER",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(P)),W("/skid/@me")};return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(ce,{show:C,close:w}),Object(j.jsx)(te,{show:o,close:d}),Object(j.jsx)(ae,{categoryId:N,setCategoryId:k,show:O,close:f}),Object(j.jsx)(ie,{}),Object(j.jsx)("nav",{className:"channel-bar background-secondary noselect ".concat(G&&"rHeight"),children:Object(j.jsxs)("div",{className:"channel-bar-items",children:[Object(j.jsxs)("section",{className:"server-name",onClick:function(){return c(!n)},children:[Object(j.jsx)("h2",{className:"server-name-header font-primary",children:H.name}),Object(j.jsx)(p.a,{className:"server-name-chevron"}),Object(j.jsx)("ul",{ref:T,className:"context-menu ".concat(n&&"on"),children:P!==D._id?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"context-menu-item blue text-blue",onClick:function(){return w(!0)},children:Object(j.jsx)("button",{children:"Invite People"})}),Object(j.jsx)("li",{className:"context-menu-item blue",onClick:function(){return d(!0)},children:Object(j.jsx)("button",{children:"Create Category"})}),F._id!==H.owner&&Object(j.jsx)("li",{className:"context-menu-item red",onClick:function(){return q()},children:Object(j.jsx)("button",{children:"Leave Server"})}),F._id===H.owner&&Object(j.jsx)("li",{className:"context-menu-item red",onClick:function(){return K()},children:Object(j.jsx)("button",{children:"Delete Server"})})]}):Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("li",{className:"context-menu-item blue text-blue",children:Object(j.jsx)("button",{children:"Do Nothing"})})})})]}),Object(j.jsx)("div",{className:"channels",children:A.map((function(e,t){return Object(j.jsx)(le,{category:e,setCategoryId:k,setShowNewChannelModal:f},t)}))})]})})]})},de=function(e,t){return e&&t?k.a.get("https://skid.today"+"/api/v1/message/getAllMessages?serverId=".concat(e,"&channelId=").concat(t),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},je=function(e,t,n,a){return e&&t&&n&&a?k.a.post("https://skid.today/api/v1/message/createMessage",{content:e,serverId:t,categoryId:n,channelId:a},{headers:{"x-auth-token":localStorage.getItem("token")}}):"awd"},be=function(e,t,n,a){return function(){var c=Object(y.a)(g.a.mark((function c(r){var s,o;return g.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,je(e,t,n,a);case 3:s=c.sent,o=s.data,r({type:"CREATE_MESSAGE",payload:o}),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),console.log(c.t0);case 11:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()},me=(n(105),function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(u.a)(r,2),o=s[0],d=s[1],b=Object(a.useState)([]),h=Object(u.a)(b,2),p=h[0],O=h[1],f=Object(i.c)((function(e){return e.user})),v=Object(i.c)((function(e){return e.channel.currentChannel})),x=Object(i.c)((function(e){return e.message.allChannelMessages})),N=Object(i.c)((function(e){return e.other.reminder})),k=Object(i.c)((function(e){return e.message.currentMessage})),E=Object(i.c)((function(e){return e.server})),S=Object(l.g)(),C=S.serverId,w=S.channelId,I=m(),_=Object(i.b)();Object(a.useEffect)((function(){"redirect"!==w&&_(function(e,t){return function(){var n=Object(y.a)(g.a.mark((function n(a){var c,r;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,de(e,t);case 3:c=n.sent,r=c.data,a({type:"GET_ALL_MESSAGES",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(C,w))}),[_,C,w]),Object(a.useEffect)((function(){_(B(C))}),[C,_]),Object(a.useEffect)((function(){O(x)}),[x,O]),Object(a.useEffect)((function(){(I||n.owner)&&I.emit("message",n)}),[I,n]),Object(a.useEffect)((function(){c(k)}),[k]),Object(a.useEffect)((function(){I&&(I.off("message"),I.off("online"),I.off("offline"),I.on("message",(function(e){e.owner!==f._id&&(e.server===C&&e.channel===w?_(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"ADD_MESSAGE_TO_ALL",payload:e})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)):_(function(e,t){return function(){var n=Object(y.a)(g.a.mark((function n(a){return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{a({type:"NOTIFY_SERVER_CHANNEL",payload:{serverId:e,channelId:t}})}catch(c){console.log(c)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e.messageServerId,e.messageChannel)))})),I.on("online",(function(){_(B(C))})),I.on("offline",(function(){_(B(C))})))}),[I,f,C,w,_]);var A=function(){var e=Object(y.a)(g.a.mark((function e(t){return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),_(be(o,C,v.category,w)),d("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"user-content background-primary ".concat(N&&"reminder-user-content"),children:[Object(j.jsx)("div",{className:"channel-name background-primary",children:Object(j.jsx)("span",{className:"channel-info-name",children:v.name})}),Object(j.jsxs)("div",{className:"chat",children:[Object(j.jsx)("div",{className:"chat-bar-container",children:Object(j.jsx)("form",{className:"chat-bar background-primary-alt",onSubmit:A,children:Object(j.jsx)("input",{type:"text",placeholder:"Message #".concat(v.name),value:o,onChange:function(e){return d(e.target.value)},className:"chat-bar-area"})})}),Object(j.jsxs)("div",{className:"chat-container",children:[p.map((function(e,t){return e.small?Object(j.jsx)("div",{className:"chat-item-small",children:Object(j.jsx)("div",{className:"chat-item-content",children:Object(j.jsx)("span",{className:"chat-item-text",children:e.content})})},e._id):Object(j.jsxs)("div",{className:"chat-item",children:[Object(j.jsx)("img",{className:"chat-item-picture",src:e.image,alt:""}),Object(j.jsxs)("div",{className:"chat-item-content",children:[Object(j.jsxs)("div",{className:"chat-user-info",children:[Object(j.jsx)("span",{className:"chat-item-name",children:e.ownerName}),Object(j.jsx)("span",{className:"chat-item-date",children:new Date(e.creation).toLocaleDateString()})]}),Object(j.jsx)("span",{className:"chat-item-text",children:e.content})]})]},t)})),Object(j.jsxs)("div",{className:"chat-container-header",children:[Object(j.jsxs)("span",{className:"chat-contiainer-header-text-large",children:["Welcome to #",v.name,"!"]}),Object(j.jsxs)("small",{className:"chat-contiainer-header-text-small",children:["This is the start of the #",v.name," channel."]})]})]})]}),Object(j.jsxs)("div",{className:"member-list background-secondary",children:[Object(j.jsxs)("div",{className:"member-list-category",children:[Object(j.jsxs)("span",{className:"member-list-name text-channel-colour",children:["ONLINE - ",E.allOnlineUsers.length]}),Object(j.jsxs)("div",{className:"members",children:[Object(j.jsxs)("div",{className:"member",children:[Object(j.jsx)("img",{className:"member-profile-image",alt:"profile",src:f.image?f.image:"https://cdn.skid.today/img/1f0bfc0865d324c2587920a7d80c609b.png"}),Object(j.jsx)("span",{className:"member-name text-primary",children:f.username})]}),E.allOnlineUsers.map((function(e){return e._id===f._id?null:Object(j.jsxs)("div",{className:"member",children:[Object(j.jsx)("img",{className:"member-profile-image",alt:"profile",src:e.image?e.image:"https://cdn.skid.today/img/1f0bfc0865d324c2587920a7d80c609b.png"}),Object(j.jsx)("span",{className:"member-name text-primary",children:e.username})]})}))]})]}),Object(j.jsxs)("div",{className:"member-list-category",children:[Object(j.jsxs)("span",{className:"member-list-name text-channel-colour",children:["OFFLINE - ",E.allOfflineUsers.length]}),Object(j.jsx)("div",{className:"members",children:E.allOfflineUsers.map((function(e){return e._id===f._id?null:Object(j.jsxs)("div",{className:"member",children:[Object(j.jsx)("img",{className:"member-profile-image",alt:"profile",src:e.image?e.image:"https://cdn.skid.today/img/1f0bfc0865d324c2587920a7d80c609b.png"}),Object(j.jsx)("span",{className:"member-name text-muted",children:e.username})]})}))})]})]})]})}),he=(n(106),function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("reminder"))),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(i.b)();return Object(a.useEffect)((function(){null===localStorage.getItem("reminder")&&localStorage.setItem("reminder",!0)}),[]),Object(j.jsx)(j.Fragment,{children:n&&Object(j.jsxs)("div",{className:"reminder",children:[Object(j.jsxs)("div",{className:"reminder-title",children:["Have you heard of notds? Check out their amazing mutitool!",Object(j.jsx)("a",{href:"https://github.com/jugoslovenska/notds",className:"reminder-button",children:"click here!"})]}),Object(j.jsx)(re.a,{className:"reminder-close",onClick:function(){return c(!1),localStorage.setItem("reminder",JSON.stringify(!1)),void r(ee(!1))}})]})})}),pe=function(){var e=Object(i.c)((function(e){return e.user})),t=Object(i.b)(),n=Object(l.f)();return Object(a.useEffect)((function(){e._id||n("/login"),t(H())}),[e,n,t]),Object(a.useEffect)((function(){t(w())}),[]),e.auth&&Object(j.jsxs)("div",{className:"flex h-screen w-screen overflow-hidden",children:[Object(j.jsx)(q,{}),Object(j.jsxs)("div",{className:"reminder-container",children:[Object(j.jsx)(he,{}),Object(j.jsxs)("div",{className:"flex h-full w-full transition-none user-context-navbar-container",children:[Object(j.jsx)(ue,{}),Object(j.jsx)(me,{})]})]})]})},Oe=function(){var e=Object(i.c)((function(e){return e.user})),t=Object(i.b)(),n=Object(l.f)();return Object(a.useEffect)((function(){e._id||n("/login"),t(H())}),[e,n,t]),Object(a.useEffect)((function(){t(w())}),[]),Object(j.jsxs)("div",{className:"flex h-screen w-screen overflow-hidden",children:[Object(j.jsx)(q,{}),Object(j.jsx)(ie,{className:"ml-[72px]"}),Object(j.jsxs)("div",{className:"reminder-container",children:[Object(j.jsx)(he,{}),Object(j.jsxs)("div",{className:"flex transition-none user-context-navbar-container",children:[Object(j.jsx)("nav",{className:"channel-bar background-secondary"}),Object(j.jsx)("div",{className:"user-content background-primary flex flex-grow"})]})]})]})},fe=(n(107),function(){var e=Object(i.c)((function(e){return e.user})),t=Object(l.f)(),n=Object(i.b)(),c=Object(l.g)().inviteCode,r=Object(i.c)((function(e){return e.invite.serverFromInvite}));Object(a.useEffect)((function(){n(function(e){return function(){var t=Object(y.a)(g.a.mark((function t(n){var a,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W(e);case 3:a=t.sent,c=a.data,n({type:"GET_SERVER_FROM_INVITE",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(c))}),[n,c]);return r._id?Object(j.jsx)("div",{className:"invite-body",children:Object(j.jsxs)("div",{className:"modal-container-inv background-primary",children:[Object(j.jsx)("div",{className:"modal-form-inv",children:Object(j.jsxs)("div",{className:"modal-form-header-inv",children:[Object(j.jsx)("small",{className:"modal-header-desc-inv",children:"You have been invited to join"}),Object(j.jsxs)("span",{className:"modal-header-title-inv",children:[r.name,"!"]})]})}),Object(j.jsx)("button",{type:"submit",onClick:function(){if(!e._id)return t("/login");n(Q(c)),t("/skid/".concat(r._id,"/redirect"))},className:"submit-button-inv",children:"Accept Invite"})]})}):Object(j.jsx)("div",{className:"invite-body",children:Object(j.jsxs)("div",{className:"modal-container-inv2 show background-primary",children:[Object(j.jsx)("div",{className:"modal-form",children:Object(j.jsxs)("div",{className:"modal-form-header-inv2",children:[Object(j.jsx)("span",{className:"modal-header-title-inv2",children:"Invite Invalid"}),Object(j.jsx)("small",{className:"modal-header-desc-inv2",children:"This invite may be expired or you might not have permission to join."})]})}),Object(j.jsx)("button",{type:"submit",onClick:function(){if(!e._id)return t("/login");t("/skid/@me")},className:"submit-button-inv",children:"Continue to Site"})]})})}),ve=function(){var e=Object(l.f)();return Object(a.useEffect)((function(){e("/skid/@me")}),[e]),null},xe=function(){var e=Object(i.c)((function(e){return e.user})),t=m();return Object(a.useEffect)((function(){t&&e.token&&t.emit("online")}),[t,e]),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(l.c,{children:[Object(j.jsx)(l.a,{path:"/",element:Object(j.jsx)(f,{})}),Object(j.jsx)(l.a,{path:"/login",element:Object(j.jsx)(_,{show:!0})}),Object(j.jsx)(l.a,{path:"/register",element:Object(j.jsx)(R,{show:!0})}),Object(j.jsx)(l.a,{path:"/invite/:inviteCode",element:Object(j.jsx)(fe,{})}),Object(j.jsx)(l.a,{path:"/skid/:serverId/:channelId",element:Object(j.jsx)(pe,{})}),Object(j.jsx)(l.a,{path:"/skid/@me",element:Object(j.jsx)(Oe,{})}),Object(j.jsx)(l.a,{path:"*",element:Object(j.jsx)(ve,{})})]})})},ge=n(33),ye=n(11),Ne=n(32),ke=n(58),Ee=function(e){var t=e||JSON.parse(localStorage.getItem("token"));try{return Object(v.a)(Object(v.a)({token:t},Object(ke.a)(t).data),{},{auth:!1})}catch(n){return{token:JSON.stringify(null),auth:!1}}},Se=Object(ge.b)({server:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentServer:{},global:{},allServers:[],allOnlineUsers:[],allOfflineUsers:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JOIN_INVITE":return t.payload?Object(v.a)(Object(v.a)({},e),{},{currentServer:t.payload,allServers:[].concat(Object(ye.a)(e.allServers),[t.payload])}):e;case"GET_ALL_SERVERS":return t.payload?Object(v.a)(Object(v.a)({},e),{},{allServers:Object(ye.a)(t.payload)}):e;case"CREATE_SERVER":return t.payload?Object(v.a)(Object(v.a)({},e),{},{allServers:[].concat(Object(ye.a)(e.allServers),[t.payload])}):e;case"GET_SERVER":return t.payload?Object(v.a)(Object(v.a)({},e),{},{currentServer:t.payload}):e;case"DELETE_SERVER":case"LEAVE_SERVER":return t.payload?Object(v.a)(Object(v.a)({},e),{},{allServers:e.allServers.filter((function(e){return e._id!==t.payload}))}):e;case"GET_ALL_ONLINE_USERS":return t.payload?Object(v.a)(Object(v.a)({},e),{},{allOnlineUsers:Object(ye.a)(t.payload.online),allOfflineUsers:Object(ye.a)(t.payload.offline)}):e;case"GLOBAL_SERVER":return t.payload?Object(v.a)(Object(v.a)({},e),{},{global:t.payload}):e;default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentCategory:{},allServerCategories:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CATEGORIES":return t.payload?Object(v.a)(Object(v.a)({},e),{},{allServerCategories:t.payload}):e;case"GET_CATEGORY":return t.payload?Object(v.a)(Object(v.a)({},e),{},{currentCategory:t.payload}):e;case"CREATE_CATEGORY":return t.payload?Object(v.a)(Object(v.a)({},e),{},{allServerCategories:[].concat(Object(ye.a)(e.allServerCategories),[t.payload])}):e;case"DELETE_CATEGORY":return t.payload?Object(v.a)(Object(v.a)({},e),{},{allServerCategories:Object(ye.a)(t.payload)}):e;default:return e}},channel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentChannel:{},redirectToChannel:null,allServerChannels:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CHANNELS":return t.payload?Object(v.a)(Object(v.a)({},e),{},{allServerChannels:Object(ye.a)(t.payload),redirectToChannel:t.payload[0]._id}):e;case"CREATE_CHANNEL":return t.payload?Object(v.a)(Object(v.a)({},e),{},{allServerChannels:[].concat(Object(ye.a)(e.allServerChannels),[t.payload])}):e;case"GET_CHANNEL":return t.payload?Object(v.a)(Object(v.a)({},e),{},{currentChannel:t.payload}):e;case"DELETE_CHANNEL":return t.payload?Object(v.a)(Object(v.a)({},e),{},{allServerChannels:Object(ye.a)(t.payload)}):e;default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentMessage:{},allChannelMessages:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_MESSAGES":return t.payload?Object(v.a)(Object(v.a)({},e),{},{allChannelMessages:Object(ye.a)(t.payload)}):e;case"ADD_MESSAGE_TO_ALL":return t.payload?Object(v.a)(Object(v.a)({},e),{},{allChannelMessages:[t.payload].concat(Object(ye.a)(e.allChannelMessages))}):e;case"GET_MESSAGE":return t.payload?Object(v.a)(Object(v.a)({},e),{},{currentMessage:t.payload}):e;case"CREATE_MESSAGE":return t.payload?Object(v.a)(Object(v.a)({},e),{},{currentMessage:t.payload,allChannelMessages:[t.payload].concat(Object(ye.a)(e.allChannelMessages))}):e;case"DELETE_MESSAGE":return t.payload,e;default:return e}},invite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serverFromInvite:{},allInvites:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SERVER_FROM_INVITE":return t.payload?Object(v.a)(Object(v.a)({},e),{},{serverFromInvite:t.payload}):Object(v.a)(Object(v.a)({},e),{},{serverFromInvite:{}});case"GET_INVITE":if(!t.payload)return e;var n,a=Object(Ne.a)(e.allInvites);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(c._id===t.payload._id)return e}}catch(r){a.e(r)}finally{a.f()}return Object(v.a)(Object(v.a)({},e),{},{allInvites:[t.payload].concat(Object(ye.a)(e.allInvites))});case"CREATE_INVITE":return t.payload?Object(v.a)(Object(v.a)({},e),{},{allInvites:[t.payload].concat(Object(ye.a)(e.allInvites))}):e;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ee(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.payload?(localStorage.setItem("token",JSON.stringify(t.payload.jwt)),Object(v.a)({},Ee(t.payload.jwt))):Object(v.a)({},Ee());case"LOGOUT":return localStorage.setItem("token",JSON.stringify(null)),Object(v.a)({},Ee());case"REGISTER":return t.payload?(localStorage.setItem("token",JSON.stringify(t.payload.jwt)),Object(v.a)({},Ee(t.payload.jwt))):Object(v.a)({},Ee());case"IMAGE":return t.payload?Object(v.a)({},Ee(t.payload.jwt)):e;case"AUTH":return Object(v.a)(Object(v.a)({},e),{},{auth:t.payload.auth});default:return e}},notify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notify:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFY_SERVER_CHANNEL":default:return e}},other:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reminder:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REMINDER":return Object(v.a)(Object(v.a)({},e),{},{reminder:t.payload});case"TEST":return console.log(t.payload),e;default:return e}}}),Ce=n(59),we=Object(ge.d)(Se,Object(ge.c)(Object(ge.a)(Ce.a)));s.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(i.a,{store:we,children:Object(j.jsx)(h,{children:Object(j.jsx)(xe,{})})})}),document.getElementById("root"))},36:function(e,t,n){},42:function(e,t,n){},71:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},99:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.499ef7e7.chunk.js.map