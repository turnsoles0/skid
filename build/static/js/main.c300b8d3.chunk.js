(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(38),s=n.n(r),o=n(9),l=n(4),i=(n(70),n(6)),u=n(5),d=n(59),j=n(1),b=c.a.createContext(),m=function(){return Object(a.useContext)(b)},h=function(e){var t=e.children,n=Object(a.useState)(),c=Object(u.a)(n,2),r=c[0],s=c[1],o=Object(l.c)((function(e){return e.auth}));return Object(a.useEffect)((function(){var e=Object(d.a)("localhost:5000",{auth:{token:o.token||null}});return s(e),function(){return e.close()}}),[o]),Object(j.jsx)(b.Provider,{value:r,children:t})},p=(n(77),n(42),n(78),function(){return Object(j.jsxs)("div",{className:"home-navbar",children:[Object(j.jsxs)("div",{className:"left-items",children:[Object(j.jsxs)("h1",{className:"left-title",children:[Object(j.jsx)("span",{className:"title-color-change",children:"skid"}),".rocks"]}),Object(j.jsx)("a",{href:"https://github.com/ulnkos/skidcordprod",className:"left-item",children:"Features"}),Object(j.jsx)("a",{href:"https://github.com/ulnkos/skidcordprod",className:"left-item",children:"GitHub"}),Object(j.jsx)("a",{href:"https://github.com/ulnkos/skidcordprod",className:"left-item",children:"About"})]}),Object(j.jsx)("div",{className:"right-items",children:Object(j.jsx)(o.b,{to:"/login",children:Object(j.jsx)("button",{className:"login-button",children:"Login"})})})]})}),O=function(){var e=["Blasting NBA Youngboy on OBlock, been in the game since '02.","P2P Encryption.","14.2 Million Bots Connected.","Pushin' P.","Central Cee > OBlock.","OBlock smoking on Tooka.","Build using BQN.","You wouldn't steel a car.","Gunna & Future - pushin P (feat. Young Thug) [Official Video]","I can rhyme Orange and Banana. Bornana.","Miria Botnet < Brixton Botnet.","NOTDS Multitool."],t=Math.floor(Math.random()*e.length),n=Math.floor(Math.random()*e.length),a=e[t],c=(e=e.filter((function(e){return e!==a})))[n];return e=e.filter((function(e){return e!==c})),Object(j.jsxs)("div",{className:"home-body",children:[Object(j.jsx)(p,{}),Object(j.jsxs)("div",{className:"home-header",children:[Object(j.jsx)("h1",{className:"home-header-title",children:a}),Object(j.jsx)("span",{className:"home-header-desc",children:c}),Object(j.jsxs)("div",{className:"home-buttons-container",children:[Object(j.jsx)("a",{href:"https://github.com/ulnkos/skidcordprod",children:Object(j.jsx)("button",{className:"home-github-main",children:"Check out our GitHub!"})}),Object(j.jsx)(o.b,{to:"/skid/@me",children:Object(j.jsx)("button",{className:"home-login-main",children:"Open skidrocks in your browser"})})]})]})]})},f=(n(79),n(3)),x=n.n(f),v=n(8),N=n(16),g=n.n(N),y="https://skid.rocks";var k=function(e){return g.a.post(y+"/api/app/changePfp",e,{headers:{"x-auth-token":localStorage.getItem("token")}})},E=function(e){return e?g.a.get(y+"/api/app/getserver?sid=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},S=function(e,t){return g.a.get(y+"/api/app/getchannel?sid=".concat(t,"&cid=").concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}})},w=function(e){return g.a.post(y+"/api/app/addserver",{serverName:e},{headers:{"x-auth-token":localStorage.getItem("token")}})},I=function(e,t){return g.a.post(y+"/api/app/addcategory",{categoryName:e,sId:t},{headers:{"x-auth-token":localStorage.getItem("token")}})},C=function(e,t,n){return g.a.post(y+"/api/app/addchannel",{sId:e,categoryId:t,channelName:n},{headers:{"x-auth-token":localStorage.getItem("token")}})},R=function(e){return g.a.post(y+"/api/app/joinInvite",{inviteCode:e},{headers:{"x-auth-token":localStorage.getItem("token")}})},_=function(){var e=Object(l.c)((function(e){return e.auth.data})),t=Object(i.f)(),n=Object(a.useState)(""),c=Object(u.a)(n,2),r=c[0],s=c[1],d=Object(a.useState)(""),b=Object(u.a)(d,2),m=b[0],h=b[1],p=Object(l.b)();return Object(a.useEffect)((function(){e.userId&&t("/skid/@me")}),[e.userId,t]),Object(j.jsx)("form",{className:"login-body",onSubmit:function(e){var t;e.preventDefault(),p((t={username:r,password:m},function(){var e=Object(v.a)(x.a.mark((function e(n){var a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,r=t,g.a.post(y+"/api/login",r);case 3:a=e.sent,c=a.data,n({type:"LOGIN",payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}var r}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},children:Object(j.jsxs)("div",{className:"modal-container background-primary",children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsxs)("div",{className:"modal-form-header",children:[Object(j.jsx)("span",{className:"modal-header-title",children:"Welcome Back!"}),Object(j.jsx)("small",{className:"modal-header-desc",children:"We're so glad to see you again!"})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"USERNAME"}),Object(j.jsx)("input",{type:"text",className:"modal-form-input",value:r,onChange:function(e){return s(e.target.value)},placeholder:""})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"PASSWORD"}),Object(j.jsx)("input",{type:"password",className:"modal-form-input",value:m,onChange:function(e){return h(e.target.value)},placeholder:""}),Object(j.jsx)("span",{className:"login-register",children:Object(j.jsx)(o.b,{to:"/recover",className:"register-button",children:"Forgot your password?"})})]})]}),Object(j.jsxs)("div",{className:"options-container background-secondary",children:[Object(j.jsxs)("span",{className:"login-register",children:["Need an account? ",Object(j.jsx)(o.b,{to:"/register",className:"register-button",children:"Register"})]}),Object(j.jsx)("button",{type:"submit",className:"submit-button",children:"Login"})]})]})})},A=function(){return Object(j.jsx)("div",{className:"body",children:Object(j.jsx)(_,{})})},L=(n(99),function(){var e=Object(l.c)((function(e){return e.auth.data})),t=Object(i.f)(),n=Object(a.useState)(""),c=Object(u.a)(n,2),r=c[0],s=c[1],d=Object(a.useState)(""),b=Object(u.a)(d,2),m=b[0],h=b[1],p=Object(a.useState)(""),O=Object(u.a)(p,2),f=O[0],N=O[1],k=Object(l.b)(),E=function(){return r.length<1||m.length<1||f.length<1?C("Invalid form."):r.includes(" ")||r.includes("#")||r.includes('"')||r.includes("'")||r.includes("&")||r.includes("@")||r.includes("~")||r.includes("/")||r.includes(",")||r.includes(">")?C("Username must not contain special characters including: # ' \" & @ ~ / > < "):m.includes(" ")?C("Password cannot include spaces."):r.length<5?C("Username must be larger than 4 characters."):r.length>15?C("Username must be less than 15 characters."):m!==f?C("Passwords do not match."):void k((e={username:r,password:m},function(){var t=Object(v.a)(x.a.mark((function t(n){var a,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,r=e,g.a.post(y+"/api/register",r);case 3:a=t.sent,c=a.data,n({type:"REGISTER",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}var r}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()));var e};Object(a.useEffect)((function(){e.userId&&t("/skid/@me")}),[e.userId,t]);var S=Object(a.useState)(""),w=Object(u.a)(S,2),I=w[0],C=w[1];return Object(j.jsx)("form",{className:"login-body",onSubmit:function(e){e.preventDefault(),E()},children:Object(j.jsxs)("div",{className:"modal-container background-primary",children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsxs)("div",{className:"modal-form-header",children:[Object(j.jsx)("span",{className:"modal-header-title",children:"Create an account"}),Object(j.jsx)("small",{className:"modal-err-desc",children:I})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"USERNAME"}),Object(j.jsx)("input",{type:"text",className:"modal-form-input",value:r,onChange:function(e){return s(e.target.value)},placeholder:""})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"PASSWORD"}),Object(j.jsx)("input",{type:"password",className:"modal-form-input",value:m,onChange:function(e){return h(e.target.value)},placeholder:""})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"CONFIRM PASSWORD"}),Object(j.jsx)("input",{type:"password",className:"modal-form-input",value:f,onChange:function(e){return N(e.target.value)},placeholder:""})]})]}),Object(j.jsxs)("div",{className:"options-container background-secondary",children:[Object(j.jsxs)("span",{className:"login-register",children:["Already have an account? ",Object(j.jsx)(o.b,{to:"/login",className:"register-button",children:"Login"})]}),Object(j.jsx)("button",{type:"submit",className:"submit-button",children:"Register"})]})]})})}),T=(n(100),function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){var a,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,E(e);case 5:if(a=t.sent,c=a.data){t.next=9;break}return t.abrupt("return");case 9:n({type:"GET_CURRENT_SERVER",payload:c}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0);case 15:case"end":return t.stop()}}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()}),M=function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:try{n({type:"REMOVE_SERVER",payload:e})}catch(a){console.log(a)}case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"REMINDER",payload:e||JSON.parse(localStorage.getItem("showReminder"))})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},G=function(e,t,n){return function(){var a=Object(v.a)(x.a.mark((function a(c){var r,s;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,o=e,l=t,i=n,g.a.post(y+"/api/app/addmessage",{serverId:l,channelId:o,messageContent:i},{headers:{"x-auth-token":localStorage.getItem("token")}});case 3:if(r=a.sent,s=r.data){a.next=7;break}return a.abrupt("return");case 7:c({type:"SEND_MESSAGE",payload:s}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}var o,l,i}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()},U=function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){var a,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,w(e);case 3:if(a=t.sent,c=a.data){t.next=7;break}return t.abrupt("return");case 7:n({type:"ADD_SERVER",payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},P=(n(101),function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(l.b)(),o=function(){var t=Object(v.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),s(U(c)),r(""),e.close(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),i=function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-new-server").click()};return Object(a.useEffect)((function(){return document.addEventListener("keydown",i,!1),function(){return document.removeEventListener("keydown",i,!1)}}),[]),Object(j.jsx)("form",{className:"modal-underbody",onSubmit:o,children:Object(j.jsxs)("div",{className:"modal-container background-primary",children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsxs)("div",{className:"modal-form-header",children:[Object(j.jsx)("span",{className:"modal-header-title",children:"Create server"}),Object(j.jsx)("small",{className:"modal-header-desc",children:"Give your new server a personality with a name. You can always change it later."})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"SERVER NAME"}),Object(j.jsx)("input",{type:"text",className:"modal-form-input",value:c,onChange:function(e){return r(e.target.value)},placeholder:"genericuser's server"})]})]}),Object(j.jsxs)("div",{className:"options-container background-secondary",children:[Object(j.jsx)("button",{className:"cancel-button",onClick:function(){return e.close(!1)},children:"Cancel"}),Object(j.jsx)("button",{type:"submit",id:"submit-new-server",className:"submit-button",children:"Create server"})]})]})})}),V=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(l.c)((function(e){return e.servers.all})),s=Object(i.g)().sId,d=Object(l.b)(),b=Object(i.f)(),h=m();return Object(a.useEffect)((function(){h&&h.on("deleteServer",(function(e){d(M(e)),s===e&&b("/skid/@me")}))}),[h,d,b]),Object(j.jsxs)(j.Fragment,{children:[n&&Object(j.jsx)(P,{close:c}),Object(j.jsxs)("div",{className:"navbar background-tertiary",children:[Object(j.jsxs)(o.b,{to:"/skid/@me",children:[Object(j.jsx)("div",{className:"selected-noti ".concat(s?null:"active")}),Object(j.jsx)("div",{className:"navbar-server hover-skid background-primary ".concat(s?null:"home-selected"),children:Object(j.jsx)("span",{className:"tool",children:"Home"})})]}),r[0]&&Object(j.jsx)("div",{className:"divider background-primary"}),r.map((function(e,t){return Object(j.jsxs)(o.b,{to:"/skid/".concat(e._id,"/").concat(e.allCategorys[0].allChannels[0]._id),children:[Object(j.jsx)("div",{className:"selected-noti ".concat(e._id===s?"active":null)}),Object(j.jsx)("div",{className:"navbar-server hover-server background-primary ".concat(e._id===s?"server-selected":null),onClick:function(){d(T())},children:Object(j.jsx)("span",{className:"tool",children:e.serverName})})]},t)})),Object(j.jsx)("div",{className:"divider background-primary"}),Object(j.jsx)("div",{className:"navbar-server hover-server background-primary",onClick:function(){return c(!0)},children:Object(j.jsx)("span",{className:"tool",children:"Add a server"})})]})]})},B=n(27),F=(n(102),n(103),function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(l.b)(),o=Object(i.g)().sId,d=function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-new-category").click()};return Object(a.useEffect)((function(){return document.addEventListener("keydown",d,!1),function(){return document.removeEventListener("keydown",d,!1)}}),[]),Object(j.jsx)("form",{className:"modal-underbody",onSubmit:function(t){t.preventDefault(),s(function(e,t){return function(){var n=Object(v.a)(x.a.mark((function n(a){var c,r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,I(e,t);case 3:if(c=n.sent,r=c.data){n.next=7;break}return n.abrupt("return");case 7:a({type:"ADD_CATEGORY",payload:r}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(c,o)),r(""),e.close(!1)},children:Object(j.jsxs)("div",{className:"modal-container background-primary",children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsx)("div",{className:"modal-form-header",children:Object(j.jsx)("span",{className:"modal-header-title",children:"Create category"})}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"CATEGORY NAME"}),Object(j.jsx)("input",{type:"text",className:"modal-form-input",value:c,onChange:function(e){return r(e.target.value)},placeholder:"New category"})]})]}),Object(j.jsxs)("div",{className:"options-container background-secondary",children:[Object(j.jsx)("button",{onClick:function(){return e.close(!1)},className:"cancel-button",children:"Cancel"}),Object(j.jsx)("button",{type:"submit",id:"submit-new-category",className:"submit-button",children:"Create category"})]})]})})}),H=n(56),Y=(n(104),function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(l.b)(),o=Object(i.g)().sId,d=function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-new-channel").click()};return Object(a.useEffect)((function(){return document.addEventListener("keydown",d,!1),function(){return document.removeEventListener("keydown",d,!1)}}),[]),Object(j.jsx)("form",{className:"modal-underbody",onSubmit:function(t){t.preventDefault(),s(function(e,t,n){return function(){var a=Object(v.a)(x.a.mark((function a(c){var r,s;return x.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,C(e,t,n);case 3:if(r=a.sent,s=r.data){a.next=7;break}return a.abrupt("return");case 7:c({type:"ADD_CHANNEL",payload:s}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.log(a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(o,e.categoryId,c)),r(""),e.close([!1,""])},children:Object(j.jsxs)("div",{className:"modal-container background-primary",children:[Object(j.jsxs)("div",{className:"modal-form",children:[Object(j.jsxs)("div",{className:"modal-form-header",children:[Object(j.jsx)("span",{className:"modal-header-title",children:"Create text channel"}),Object(j.jsxs)("small",{className:"modal-header-desc",children:["in ",e.categoryId]})]}),Object(j.jsxs)("div",{className:"modal-select-container",children:[Object(j.jsx)("span",{className:"modal-select-header",children:"CHANNEL TYPE"}),Object(j.jsxs)("div",{className:"modal-type-container",children:[Object(j.jsxs)("div",{className:"modal-select-type modal-selected-type",children:[Object(j.jsx)("div",{className:"select-check-wrapper",children:Object(j.jsx)("div",{className:"select-check"})}),Object(j.jsx)(B.c,{className:"select-type-icon"}),Object(j.jsxs)("div",{className:"select-type-info",children:[Object(j.jsx)("span",{className:"select-type-name",children:"Text Channel"}),Object(j.jsx)("small",{className:"select-type-desc",children:"Post images, GIFs, opinions and puns"})]})]}),Object(j.jsxs)("div",{className:"modal-select-type modal-select-hover",children:[Object(j.jsx)("div",{className:"unselect-check-wrapper",children:Object(j.jsx)("div",{className:"unselect-check"})}),Object(j.jsx)(H.a,{className:"select-type-icon"}),Object(j.jsxs)("div",{className:"select-type-info",children:[Object(j.jsx)("span",{className:"select-type-name",children:"Voice Channel"}),Object(j.jsx)("small",{className:"select-type-desc",children:"Hang out with voice, video and screen sharing"})]})]})]})]}),Object(j.jsxs)("div",{className:"modal-form-input-container",children:[Object(j.jsx)("span",{className:"modal-form-input-header",children:"CHANNEL NAME"}),Object(j.jsx)("input",{type:"text",className:"modal-form-input",value:c,onChange:function(e){r(e.target.value)},placeholder:"new-channel"})]})]}),Object(j.jsxs)("div",{className:"options-container background-secondary",children:[Object(j.jsx)("button",{onClick:function(){return e.close([!1,""])},className:"cancel-button",children:"Cancel"}),Object(j.jsx)("button",{type:"submit",id:"submit-new-channel",className:"submit-button",children:"Create channel"})]})]})})}),J=n(28),W=n(57),z=(n(105),function(e){var t=Object(l.b)(),n=Object(a.useState)(""),c=Object(u.a)(n,2),r=c[0],s=c[1],o=Object(l.c)((function(e){return e.auth}));Object(a.useLayoutEffect)((function(){s(o.data.pfpUrl)}),[o]);return Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)("div",{className:"settings ml-[-72px] ".concat(e.class),children:[Object(j.jsx)("div",{className:"close",onClick:function(){return e.close(!1)},children:Object(j.jsx)(J.a,{size:"18"})}),Object(j.jsx)("section",{className:"tabs",children:Object(j.jsxs)("ul",{className:"tab-buttons-container",children:[Object(j.jsxs)("div",{className:"tab-section",children:[Object(j.jsx)("span",{className:"font-display section-title",children:"USER SETTINGS"}),Object(j.jsx)("div",{className:"section-items",children:Object(j.jsx)("button",{className:"section-button text-channel-colour selected",children:"My Account"})})]}),Object(j.jsx)("div",{className:"divider-options"}),Object(j.jsx)("form",{className:"tab-section",onSubmit:function(){t(function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"LOGOUT",payload:null})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:Object(j.jsx)("button",{type:"submit",className:"section-button logout text-channel-colour",children:"Logout"})})]})}),Object(j.jsxs)("section",{className:"options",children:[Object(j.jsx)("div",{className:"header-title-option",children:"My Account"}),Object(j.jsxs)("form",{className:"option",onSubmit:function(e){var n;e.preventDefault(),t((n={url:r,jwt:o.token},function(){var e=Object(v.a)(x.a.mark((function e(t){var a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k(n);case 3:a=e.sent,c=a.data,t({type:"PROFILEPICTURE",payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(j.jsx)("span",{className:"option-title",children:"Profile Picture URL"}),Object(j.jsx)("input",{type:"url",className:"modal-form-input-o",pattern:"https://.*",value:r,onChange:function(e){return s(e.target.value)},placeholder:""}),Object(j.jsx)("button",{type:"submit",className:"submit-button-save",children:"Save"})]})]})]})})}),Q=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),o=Object(u.a)(s,2),i=o[0],d=o[1],b=Object(l.c)((function(e){return e.auth.data}));return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(z,{close:r,class:"".concat(c&&"active")}),Object(j.jsxs)("section",{className:"user-info background-secondary-alt ".concat(e.className),children:[Object(j.jsxs)("div",{className:"profile-container",children:[Object(j.jsx)("img",{className:"profile-image",src:b.pfpUrl,alt:""}),Object(j.jsxs)("div",{className:"profile-name-container",children:[Object(j.jsx)("span",{className:"profile-name",children:b.username}),Object(j.jsx)("small",{className:"profile-tag",children:b.userId})]})]}),Object(j.jsxs)("div",{className:"buttons-container",children:[Object(j.jsxs)("div",{className:"button-wrapper",onClick:function(){return d(!i)},children:[Object(j.jsx)("span",{className:"button-tool",children:i?"Unmute":"Mute"}),i?Object(j.jsx)(J.c,{className:"button"}):Object(j.jsx)(J.b,{className:"button"})]}),Object(j.jsxs)("div",{className:"button-wrapper",onClick:function(){return r(!0)},children:[Object(j.jsx)("span",{className:"button-tool",children:"Settings"}),Object(j.jsx)(W.a,{className:"button"})]})]})]})]})},q=function(e){var t=Object(a.useState)(!0),n=Object(u.a)(t,2),c=n[0],r=n[1],s=Object(i.g)(),l=s.sId,d=s.cId;return Object(j.jsxs)("div",{className:"category",children:[Object(j.jsxs)("div",{className:"category-header text-channel-colour-group",children:[c?Object(j.jsx)(B.a,{className:"category-chevron colour-group-item",onClick:function(){return r(!c)}}):Object(j.jsx)(B.b,{className:"category-chevron colour-group-item",onClick:function(){return r(!c)}}),Object(j.jsx)("span",{className:"category-header-text font-display colour-group-item",onClick:function(){return r(!c)},children:e.category.categoryName.toUpperCase()}),Object(j.jsx)(B.d,{className:"category-add colour-group-item",onClick:function(){return e.setShowChannelModal([!0,e.category._id])}})]}),Object(j.jsx)("div",{className:"children",children:e.category.allChannels.map((function(e,t){return c&&Object(j.jsx)(o.b,{to:"/skid/".concat(l,"/").concat(e._id),children:Object(j.jsxs)("div",{className:"channel text-channel-colour ".concat(d===e._id?"selected":""),children:[Object(j.jsx)(B.c,{className:"channel-hashtag text-channel-colour"}),Object(j.jsx)("span",{className:"channel-title font-primary",children:e.channelName})]})},t)}))})]})},K=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(u.a)(r,2),o=s[0],d=s[1],b=Object(a.useState)([!1,""]),h=Object(u.a)(b,2),p=h[0],O=h[1],f=Object(l.c)((function(e){return e.servers.reminder})),N=Object(l.c)((function(e){return e.servers.current})),k=Object(i.g)().sId,E=Object(i.f)(),S=Object(l.b)(),w=m(),I=function(){var e;S((e="355f9b",function(){var t=Object(v.a)(x.a.mark((function t(n){var a,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R(e);case 3:a=t.sent,c=a.data,n({type:"JOIN_INVITE",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()))};Object(a.useEffect)((function(){S(T(k)),S(D())}),[S,k]);var C=function(){w.emit("deleteServer",k),S(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){var a,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e){t.next=2;break}return t.abrupt("return");case 2:return t.prev=2,t.next=5,r=e,g.a.post(y+"/api/app/deleteserver",{serverId:r},{headers:{"x-auth-token":localStorage.getItem("token")}});case 5:if(a=t.sent,c=a.data){t.next=9;break}return t.abrupt("return");case 9:n({type:"DELETE_SERVER",payload:c}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(2),console.log(t.t0);case 15:case"end":return t.stop()}var r}),t,null,[[2,12]])})));return function(e){return t.apply(this,arguments)}}()}(k)),E("/skid/@me")};return N._id?Object(j.jsxs)(j.Fragment,{children:[o&&Object(j.jsx)(F,{close:d}),p[0]&&Object(j.jsx)(Y,{categoryId:p[1],close:O}),Object(j.jsx)(Q,{}),Object(j.jsx)("nav",{className:"channel-bar background-secondary ".concat(f&&"rHeight"),children:Object(j.jsxs)("div",{className:"channel-bar-items",children:[Object(j.jsxs)("section",{className:"server-name",onClick:function(){return c(!n)},children:[Object(j.jsx)("h2",{className:"server-name-header font-primary",children:N.serverName}),Object(j.jsx)(B.a,{className:"server-name-chevron"}),Object(j.jsxs)("ul",{className:"context-menu ".concat(n&&"on"),children:[Object(j.jsx)("li",{className:"context-menu-item blue",onClick:function(){return d(!0)},children:Object(j.jsx)("button",{children:"Create Category"})}),Object(j.jsx)("li",{className:"context-menu-item blue",onClick:function(){return I()},children:Object(j.jsx)("button",{children:"Join Random Server"})}),"624f38f4b636951080d5a395"!==k?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)("li",{className:"context-menu-item red",onClick:function(){return C()},children:Object(j.jsx)("button",{children:"Delete Server"})}),Object(j.jsx)("li",{className:"context-menu-item red",onClick:function(){return I()},children:Object(j.jsx)("button",{children:"Leave Server"})})]}):null]})]}),Object(j.jsx)("div",{className:"channels",children:N.allCategorys.map((function(e,t){return Object(j.jsx)(q,{category:e,setShowChannelModal:O},t)}))})]})})]}):null},X=(n(106),function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)([]),s=Object(u.a)(r,2),o=s[0],d=s[1],b=Object(l.c)((function(e){return e.servers.channel})),h=m(),p=Object(l.c)((function(e){return e.auth.data})),O=Object(l.c)((function(e){return e.servers.reminder})),f=Object(i.g)(),N=f.sId,k=f.cId,E=Object(l.b)();Object(a.useEffect)((function(){E(function(e,t){return function(){var n=Object(v.a)(x.a.mark((function n(a){var c,r;return x.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S(e,t);case 3:if(c=n.sent,r=c.data){n.next=7;break}return n.abrupt("return");case 7:a({type:"GET_CURRENT_CHANNEL",payload:r}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),console.log(n.t0);case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(k,N))}),[E,k,N]),Object(a.useEffect)((function(){d(b.allMessages)}),[b,d]),Object(a.useEffect)((function(){h&&(h.off("loadMessage"),h.on("loadMessage",(function(e){var t,n;e.messageUserId!==p.userId&&(e.messageServerId===N&&e.messageChannel===k?E(function(e){return function(){var t=Object(v.a)(x.a.mark((function t(n){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"GET_MESSAGE",payload:e})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)):E((t=e.messageServerId,n=e.messageChannel,function(){var e=Object(v.a)(x.a.mark((function e(a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a({type:"NOTIFY_SERVER_CHANNEL",payload:{serverId:t,channelId:n}})}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())))})))}),[h,E,p,k]);var w=function(){var e=Object(v.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),E(G(k,N,n)),e.t0=h,e.next=5,a=k,r=N,s=n,g.a.post(y+"/api/app/pseudomessage",{serverId:r,channelId:a,messageContent:s},{headers:{"x-auth-token":localStorage.getItem("token")}});case 5:e.t1=e.sent,e.t0.emit.call(e.t0,"sendMessage",e.t1),c("");case 8:case"end":return e.stop()}var a,r,s}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(j.jsxs)("div",{className:"user-content background-primary ".concat(O&&"reminder-user-content"),children:[Object(j.jsx)("div",{className:"channel-name background-primary",children:Object(j.jsx)("span",{className:"channel-info-name",children:b.channelName})}),Object(j.jsxs)("div",{className:"chat",children:[Object(j.jsx)("div",{className:"chat-bar-container",children:Object(j.jsx)("form",{className:"chat-bar background-primary-alt",onSubmit:w,children:Object(j.jsx)("input",{type:"text",placeholder:"Message #general",value:n,onChange:function(e){return c(e.target.value)},className:"chat-bar-area"})})}),Object(j.jsx)("div",{className:"chat-container",children:o.map((function(e,t){return e.isSmall?Object(j.jsx)("div",{className:"chat-item-small",children:Object(j.jsx)("div",{className:"chat-item-content",children:Object(j.jsx)("span",{className:"chat-item-text",children:e.messageContent})})},e._id):Object(j.jsxs)("div",{className:"chat-item",children:[Object(j.jsx)("img",{className:"chat-item-picture",src:e.profilePicture,alt:""}),Object(j.jsxs)("div",{className:"chat-item-content",children:[Object(j.jsxs)("div",{className:"chat-user-info",children:[Object(j.jsx)("span",{className:"chat-item-name",children:e.messageOwner}),Object(j.jsx)("span",{className:"chat-item-date",children:new Date(e.messageCreation).toLocaleDateString()})]}),Object(j.jsx)("span",{className:"chat-item-text",children:e.messageContent})]})]},t)}))})]}),Object(j.jsxs)("div",{className:"member-list background-secondary",children:[Object(j.jsxs)("div",{className:"member-list-category",children:[Object(j.jsx)("span",{className:"member-list-name text-channel-colour",children:"ONLINE"}),Object(j.jsx)("div",{className:"members",children:Object(j.jsxs)("div",{className:"member",children:[Object(j.jsx)("div",{className:"member-profile-image"}),Object(j.jsx)("span",{className:"member-name text-primary",children:"genericuser"})]})})]}),Object(j.jsxs)("div",{className:"member-list-category",children:[Object(j.jsx)("span",{className:"member-list-name text-channel-colour",children:"OFFLINE"}),Object(j.jsx)("div",{className:"members",children:Object(j.jsxs)("div",{className:"member",children:[Object(j.jsx)("div",{className:"member-profile-image"}),Object(j.jsx)("span",{className:"member-name text-muted",children:"Taylor Peters"})]})})]})]})]})}),Z=(n(107),function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("showReminder"))),t=Object(u.a)(e,2),n=t[0],c=t[1],r=Object(l.b)();return Object(a.useEffect)((function(){null===localStorage.getItem("showReminder")&&localStorage.setItem("showReminder",!0)}),[]),Object(j.jsx)(j.Fragment,{children:n&&Object(j.jsxs)("div",{className:"reminder",children:[Object(j.jsxs)("div",{className:"reminder-title",children:["Have you heard of shire sounds? Check out their amazing radio station!",Object(j.jsx)("a",{href:"https://shiresoundsradio.co.uk/",className:"reminder-button",children:"click here!"})]}),Object(j.jsx)(J.a,{className:"reminder-close",onClick:function(){return c(!1),localStorage.setItem("showReminder",!1),void r(D(!1))}})]})})}),$=function(){var e=Object(l.c)((function(e){return e.auth.data})),t=Object(i.f)();return Object(a.useEffect)((function(){e.userId||t("/login")}),[e.userId,t]),Object(j.jsxs)("div",{className:"flex h-screen w-screen overflow-hidden",children:[Object(j.jsx)(V,{}),Object(j.jsxs)("div",{className:"reminder-container",children:[Object(j.jsx)(Z,{}),Object(j.jsxs)("div",{className:"flex h-full w-full transition-none user-context-navbar-container",children:[Object(j.jsx)(K,{}),Object(j.jsx)(X,{})]})]})]})},ee=function(){var e=Object(l.c)((function(e){return e.auth.data})),t=Object(i.f)();return Object(a.useEffect)((function(){e.userId||t("/login")}),[e.userId,t]),Object(j.jsxs)("div",{className:"flex h-screen w-screen overflow-hidden",children:[Object(j.jsx)(V,{}),Object(j.jsx)(Q,{className:"ml-[72px]"}),Object(j.jsxs)("div",{className:"reminder-container",children:[Object(j.jsx)(Z,{}),Object(j.jsxs)("div",{className:"flex transition-none user-context-navbar-container",children:[Object(j.jsx)("nav",{className:"channel-bar background-secondary"}),Object(j.jsx)("div",{className:"user-content background-primary flex flex-grow"})]})]})]})},te=function(){var e=Object(i.f)();return Object(a.useEffect)((function(){e("/skid/@me")}),[e]),null},ne=function(){var e=Object(l.b)(),t=Object(i.g)().sId,n=Object(i.f)(),c=m();return Object(a.useEffect)((function(){e(function(){var e=Object(v.a)(x.a.mark((function e(t){var n,a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.get(y+"/api/app/getservers",{headers:{"x-auth-token":localStorage.getItem("token")}});case 3:n=e.sent,a=n.data,t({type:"GET_ALL_SERVERS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),c&&(c.emit("userOnline"),c.on("deleteServer",(function(a){e(M(a)),t===a&&n("/skid/@me")})))})),Object(j.jsx)(j.Fragment,{children:Object(j.jsxs)(i.c,{children:[Object(j.jsx)(i.a,{path:"/",element:Object(j.jsx)(O,{})}),Object(j.jsx)(i.a,{path:"/login",element:Object(j.jsx)(A,{})}),Object(j.jsx)(i.a,{path:"/register",element:Object(j.jsx)(L,{})}),Object(j.jsx)(i.a,{path:"/skid/:sId/:cId",element:Object(j.jsx)($,{})}),Object(j.jsx)(i.a,{path:"/skid/@me",element:Object(j.jsx)(ee,{})}),Object(j.jsx)(i.a,{path:"*",element:Object(j.jsx)(te,{})})]})})},ae=n(32),ce=n(7),re=n(33),se=function(){var e=localStorage.getItem("token");try{return{token:localStorage.getItem("token"),data:{username:Object(re.a)(e).data.username||"",userId:Object(re.a)(e).data.userId||"",userRole:Object(re.a)(e).data.userRole||"",pfpUrl:Object(re.a)(e).data.profileUrl||""}}}catch(t){return{token:localStorage.getItem("token"),data:{username:"",userId:"",userRole:"",pfpUrl:""}}}},oe=function(e){var t=e.payload.jwt,n=Object(re.a)(t);return console.log(n),localStorage.setItem("token",t),Object(ce.a)(Object(ce.a)(Object(ce.a)({},se()),n),{},{token:t})},le=n(26),ie=Object(ae.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return oe(t);case"LOGOUT":return localStorage.setItem("token",null),Object(ce.a)({},se());case"REGISTER":case"PROFILEPICTURE":return oe(t);default:return e}},servers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{all:[],current:{},channel:{allMessages:[],channelName:""}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_SERVERS":return Object(ce.a)(Object(ce.a)({},e),{},{all:Object(le.a)(t.payload)});case"GET_CURRENT_SERVER":return Object(ce.a)(Object(ce.a)({},e),{},{current:t.payload});case"GET_CURRENT_CHANNEL":return Object(ce.a)(Object(ce.a)({},e),{},{channel:t.payload});case"ADD_SERVER":case"JOIN_INVITE":return Object(ce.a)(Object(ce.a)({},e),{},{all:[t.payload].concat(Object(le.a)(e.all))});case"REMOVE_SERVER":case"DELETE_SERVER":return Object(ce.a)(Object(ce.a)({},e),{},{all:Object(le.a)(e.all).filter((function(e){return e._id!==t.payload?e:null}))});case"GET_MESSAGE":case"SEND_MESSAGE":return Object(ce.a)(Object(ce.a)({},e),{},{channel:{allMessages:[t.payload].concat(Object(le.a)(e.channel.allMessages))}});case"ADD_CATEGORY":return Object(ce.a)(Object(ce.a)({},e),{},{current:Object(ce.a)(Object(ce.a)({},e.current),{},{allCategorys:[].concat(Object(le.a)(e.current.allCategorys),[t.payload])})});case"ADD_CHANNEL":return Object(ce.a)(Object(ce.a)({},e),{},{current:t.payload});case"REMINDER":return Object(ce.a)(Object(ce.a)({},e),{},{reminder:t.payload});default:return e}},notify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notify:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFY_SERVER_CHANNEL":console.log(t.payload);break;default:return e}}}),ue=n(58),de=Object(ae.d)(ie,Object(ae.c)(Object(ae.a)(ue.a)));s.a.render(Object(j.jsx)(o.a,{children:Object(j.jsx)(l.a,{store:de,children:Object(j.jsx)(h,{children:Object(j.jsx)(ne,{})})})}),document.getElementById("root"))},42:function(e,t,n){},70:function(e,t,n){},77:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},99:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.c300b8d3.chunk.js.map