(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{100:function(e,t,n){},101:function(e,t,n){},102:function(e,t,n){},103:function(e,t,n){},104:function(e,t,n){},105:function(e,t,n){},106:function(e,t,n){},107:function(e,t,n){},108:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n.n(a),r=n(39),s=n.n(r),o=n(10),i=n(5),l=(n(71),n(4)),u=n(9),d=n(6),j=n(60),b=n(1),m=c.a.createContext(),h=function(){return Object(a.useContext)(m)},p=function(e){var t=e.children,n=Object(a.useState)(),c=Object(d.a)(n,2),r=c[0],s=c[1],o=Object(i.c)((function(e){return e.user}));return Object(a.useEffect)((function(){var e=Object(j.a)("https://skid.today",{auth:{token:o.token||null}});return s(e),function(){return e.close()}}),[o]),Object(b.jsx)(m.Provider,{value:r,children:t})},O=(n(42),n(78),n(36),n(27)),f=(n(79),function(){return Object(b.jsxs)("div",{className:"home-navbar",children:[Object(b.jsxs)("div",{className:"left-items",children:[Object(b.jsxs)("h1",{className:"left-title",children:[Object(b.jsx)("span",{className:"title-color-change",children:"skid"})," ",Object(b.jsx)("span",{className:"smol",children:"v1.3.3"})]}),Object(b.jsx)("a",{href:"https://github.com/ulnk/skid",className:"left-item",children:"Features"}),Object(b.jsx)("a",{href:"https://github.com/ulnk/skid",className:"left-item",children:"GitHub"}),Object(b.jsx)("a",{href:"https://github.com/ulnk/skid",className:"left-item",children:"About"})]}),Object(b.jsx)("div",{className:"right-items",children:Object(b.jsx)(o.b,{to:"/login",children:Object(b.jsx)("button",{className:"login-button",children:"Login"})})})]})}),v=function(){var e=["Blasting NBA Youngboy on OBlock, been in the game since '02.","P2P Encryption.","14.2 Million Bots Connected.","Pushin' P.","Central Cee > OBlock.","OBlock smoking on Tooka.","Built using BQN.","You wouldn't steal a car.","Gunna & Future - pushin P (feat. Young Thug) [Official Video]","I can rhyme Orange and Banana. Bornana.","Miria Botnet < Brixton Botnet.","NOTDS Multitool.","Killer Whales at SeaWorld\u2122\ufe0f","Osaka > Brush & Cyan > Horion.","skid  oxygen when?","Jesus died for chocolate eggs.","Visual Basic Botnet.","decrypt0r.cs","Cookie Clicker?","When it rains, it pours.","Mike Amiri, Mike Amiri.","Trap House Mob."],t=[],n=function n(){var a=Math.floor(Math.random()*e.length),c=e[a];return t.includes(e[a])?n():(t.push(e[a]),c)},c=Object(a.useState)([n(),n()]),r=Object(d.a)(c,2),s=r[0],o=r[1],i=Object(a.useState)(0),l=Object(d.a)(i,2),u=l[0],j=l[1],m=function(e){j((function(e){return e+1}))};return Object(a.useEffect)((function(){return document.addEventListener("click",m),function(){return document.removeEventListener("click",m)}}),[]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"home-body",children:[Object(b.jsx)(f,{}),Object(b.jsxs)("div",{className:"home-header",children:[Object(b.jsx)("h1",{className:"home-header-title",children:s[0]}),Object(b.jsx)("span",{className:"home-header-desc",children:s[1]}),Object(b.jsxs)("div",{className:"home-buttons-container",children:[Object(b.jsx)("span",{onClick:function(){window.location="https://github.com/ulnk/skid"},children:Object(b.jsxs)("button",{className:"home-github-main",children:[Object(b.jsx)(O.c,{className:"github-icon"}),"Check out our GitHub!"]})}),Object(b.jsx)("span",{onClick:function(){window.location="/skid/@me"},children:Object(b.jsx)("button",{className:"home-login-main",children:"Open Skid in your browser"})}),u>200&&Object(b.jsx)("span",{onClick:function(){window.location="https://cdn.skid.rocks/WordleGame.exe"},children:Object(b.jsx)("button",{onClick:function(){o([n(),n()]),t=[]},className:"home-red-main",children:"Download Wordle"})})]})]})]}),Object(b.jsx)("div",{className:"home-bottom",children:u<200&&Object(b.jsx)("button",{onClick:function(){return j(200)},className:"home-regen-bottom"})})]})},x=n(3),y=n.n(x),g=n(8),N=n(7),k=n.n(N),E=function(e,t){return e&&t?k.a.post("https://skid.today/api/v1/user/login",{username:e,password:t}):null},S=function(e,t){return e&&t?k.a.post("https://skid.today/api/v1/user/register",{username:e,password:t}):null},w=function(e){return e?k.a.post("https://skid.today/api/v1/user/image",{imageLink:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},C=function(e){var t=Object(a.useState)(!0),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(i.c)((function(e){return e.user})),l=Object(u.f)(),j=Object(a.useState)(""),m=Object(d.a)(j,2),h=m[0],p=m[1],O=Object(a.useState)(""),f=Object(d.a)(O,2),v=f[0],x=f[1],N=Object(i.b)();return Object(a.useEffect)((function(){e.show&&r(!1)}),[e]),Object(a.useEffect)((function(){s._id&&l("/skid/@me")}),[s,l]),Object(b.jsx)("form",{className:"modal-body",onSubmit:function(e){e.preventDefault(),N(function(e,t){return function(){var n=Object(g.a)(y.a.mark((function n(a){var c,r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,E(e,t);case 3:c=n.sent,r=c.data,a({type:"LOGIN",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(h,v))},children:Object(b.jsxs)("div",{className:"modal-container background-primary ".concat(c?"":"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsxs)("div",{className:"modal-form-header",children:[Object(b.jsx)("span",{className:"modal-header-title",children:"Welcome Back!"}),Object(b.jsx)("small",{className:"modal-header-desc",children:"We're so glad to see you again!"})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"USERNAME"}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:h,onChange:function(e){return p(e.target.value)},placeholder:""})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"PASSWORD"}),Object(b.jsx)("input",{type:"password",className:"modal-form-input",value:v,onChange:function(e){return x(e.target.value)},placeholder:""}),Object(b.jsx)("span",{className:"login-register",children:Object(b.jsx)(o.b,{to:"/recover",className:"register-button",children:"Forgot your password?"})})]})]}),Object(b.jsx)("button",{type:"submit",className:"submit-button-long",children:"Login"}),Object(b.jsxs)("span",{className:"login-register-below",children:["Need an account? ",Object(b.jsx)(o.b,{to:"/register",className:"register-button",children:"Register"})]})]})})},I=function(e){return Object(b.jsx)("div",{className:"body",children:Object(b.jsx)(C,Object(l.a)({},e))})},_=function(e){var t=Object(a.useState)(!0),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(i.c)((function(e){return e.user})),l=Object(u.f)(),j=Object(a.useState)(""),m=Object(d.a)(j,2),h=m[0],p=m[1],O=Object(a.useState)(""),f=Object(d.a)(O,2),v=f[0],x=f[1],N=Object(a.useState)(""),k=Object(d.a)(N,2),E=k[0],w=k[1],C=Object(i.b)(),I=function(){return h.length<1||v.length<1||E.length<1?R("Invalid form."):h.includes(" ")||h.includes("#")||h.includes('"')||h.includes("'")||h.includes("&")||h.includes("@")||h.includes("~")||h.includes("/")||h.includes(",")||h.includes(">")?R("Username must not contain special characters including: # ' \" & @ ~ / > < "):v.includes(" ")?R("Password cannot include spaces."):h.length<5?R("Username must be larger than 4 characters."):h.length>15?R("Username must be less than 15 characters."):v!==E?R("Passwords do not match."):void C(function(e,t){return function(){var n=Object(g.a)(y.a.mark((function n(a){var c,r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,S(e,t);case 3:c=n.sent,r=c.data,a({type:"REGISTER",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(h,v))};Object(a.useEffect)((function(){e.show&&r(!1)}),[e]),Object(a.useEffect)((function(){s._id&&l("/skid/@me")}),[s,l]);var _=Object(a.useState)(""),T=Object(d.a)(_,2),A=T[0],R=T[1];return Object(b.jsx)("form",{className:"modal-body",onSubmit:function(e){e.preventDefault(),I()},children:Object(b.jsxs)("div",{className:"modal-container background-primary ".concat(c?"":"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsxs)("div",{className:"modal-form-header",children:[Object(b.jsx)("span",{className:"modal-header-title",children:"Create an account"}),Object(b.jsx)("small",{className:"modal-err-desc",children:A})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"USERNAME"}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:h,onChange:function(e){return p(e.target.value)},placeholder:""})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"PASSWORD"}),Object(b.jsx)("input",{type:"password",className:"modal-form-input",value:v,onChange:function(e){return x(e.target.value)},placeholder:""})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"CONFIRM PASSWORD"}),Object(b.jsx)("input",{type:"password",className:"modal-form-input",value:E,onChange:function(e){return w(e.target.value)},placeholder:""})]})]}),Object(b.jsx)("button",{type:"submit",className:"submit-button-long",children:"Register"}),Object(b.jsxs)("span",{className:"login-register-below",children:["Already have an account? ",Object(b.jsx)(o.b,{to:"/login",className:"register-button",children:"Login"})]})]})})},T=function(e){return Object(b.jsx)("div",{className:"body",children:Object(b.jsx)(_,Object(l.a)({},e))})},A=function(e){return e?k.a.get("https://skid.today"+"/api/v1/server/getServer?serverId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},R=function(e){return e?k.a.post("https://skid.today/api/v1/server/createServer",{serverName:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},L=function(e){return e?k.a.post("https://skid.today/api/v1/server/deleteServer",{serverId:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},G=function(e){return e?k.a.post("https://skid.today/api/v1/server/leaveServer",{serverId:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},M=function(){return function(){var e=Object(g.a)(y.a.mark((function e(t){var n,a;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k.a.get("https://skid.today/api/v1/server/getAllServers",{headers:{"x-auth-token":localStorage.getItem("token")}});case 3:n=e.sent,a=n.data,t({type:"GET_ALL_SERVERS",payload:a}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},V=function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,A(e);case 3:a=t.sent,c=a.data,n({type:"GET_SERVER",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},D=function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,R(e);case 3:a=t.sent,c=a.data,n({type:"CREATE_SERVER",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},F=(n(99),function(e){return e?k.a.get("https://skid.today"+"/api/v1/channel/getAllChannels?serverId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null}),B=function(e){return e?k.a.get("https://skid.today"+"/api/v1/channel/getChannel?channelId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},H=function(e,t,n){return e&&t&&n?k.a.post("https://skid.today/api/v1/channel/createChannel",{serverId:e,categoryId:t,channelName:n},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},P=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(i.c)((function(e){return e.user})),o=Object(i.b)(),l=function(){var t=Object(g.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n.preventDefault(),o(D(c)),r(""),e.close(!1);case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=Object(a.useCallback)((function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-new-server").click()}),[e]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",u,!1),function(){return document.removeEventListener("keydown",u,!1)}}),[u]),Object(b.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:l,children:Object(b.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsxs)("div",{className:"modal-form-header-app",children:[Object(b.jsx)("span",{className:"modal-header-title-app",children:"Create server"}),Object(b.jsx)("small",{className:"modal-header-desc-app",children:"Give your new server a personality with a name. You can always change it later."})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"SERVER NAME"}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:c,onChange:function(e){return r(e.target.value)},placeholder:"".concat(s.username,"'s server")})]})]}),Object(b.jsxs)("div",{className:"options-container background-secondary",children:[Object(b.jsx)("button",{type:"button",className:"cancel-button",onClick:function(){e.close(!1),r("")},children:"Cancel"}),Object(b.jsx)("button",{type:"button",className:"cancel-button",onClick:function(){e.join(!0),e.close(!1),r("")},children:"Join a Server"}),Object(b.jsx)("button",{type:"submit",id:"submit-new-server",className:"submit-button",children:"Create server"})]})]})})},J=function(e){return e?k.a.get("https://skid.today"+"/api/v1/invite/getInviteFromServer?serverId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},Y=function(e){return e?k.a.get("https://skid.today"+"/api/v1/invite/getServerFromInvite?inviteCode=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},U=function(e,t){return e?k.a.post("https://skid.today/api/v1/invite/createInvite",{serverId:e,inviteCode:t},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},W=function(e){return e?k.a.post("https://skid.today/api/v1/invite/joinInvite",{inviteCode:e},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},z=function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,W(e);case 3:a=t.sent,c=a.data,n({type:"JOIN_INVITE",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()},K=function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(""),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(i.b)(),m=function(e){if(""===(e=(e=(e=e.split(":").at(-1).split("//").at(-1).split("skid.rocks/invite").at(-1).split("skid.today/invite").at(-1)).split("/")[1]||e.split("/").at(-1)).replace(/\s+/g,"")))return u("Invite is invalid or expired.");u(""),r(e)},h=Object(a.useCallback)((function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-join-channel").click()}),[e]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",h,!1),function(){return document.removeEventListener("keydown",h,!1)}}),[h]),Object(b.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:function(t){t.preventDefault(),m(c),j(z(c)),e.close(!1)},children:Object(b.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsxs)("div",{className:"modal-form-header-app",children:[Object(b.jsx)("span",{className:"modal-header-title-app",children:"Join server"}),Object(b.jsx)("small",{className:"modal-header-desc-app",children:"Enter an invite below to join an existing server."})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsxs)("span",{className:"modal-form-input-header ".concat(""!==l&&"error-invite"),children:["Invite Link ",""!==l&&"- ".concat(l)]}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:c,onChange:function(e){return r(e.target.value)},placeholder:"skid.today/invite/aO9yuf"})]})]}),Object(b.jsxs)("div",{className:"options-container background-secondary",children:[Object(b.jsx)("button",{type:"button",className:"cancel-button",onClick:function(){e.close(!1),r("")},children:"Cancel"}),Object(b.jsx)("button",{type:"submit",id:"submit-join-channel",className:"submit-button",children:"Join server"})]})]})})},Q=function(){var e=Object(a.useState)([]),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(d.a)(r,2),l=s[0],j=s[1],m=Object(a.useState)(!1),p=Object(d.a)(m,2),O=p[0],f=p[1],v=Object(i.c)((function(e){return e.channel.allServerChannels})),x=Object(i.c)((function(e){return e.server.allServers})),N=Object(i.c)((function(e){return e.channel.redirectToChannel})),k=Object(u.g)(),E=k.serverId,S=k.channelId,w=Object(i.b)(),C=Object(u.f)(),I=h();return Object(a.useEffect)((function(){I&&I.on("deleteServer",(function(e){w(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"HIDE_SERVER",payload:e})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(E)),E===e&&C("/skid/@me")}))}),[E,I,w,C]),Object(a.useEffect)((function(){c(x)}),[x]),Object(a.useEffect)((function(){w(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,F(e);case 5:a=t.sent,c=a.data,n({type:"GET_ALL_CHANNELS",payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(E))}),[E,w]),Object(a.useEffect)((function(){"redirect"!==S&&"null"!==S&&w(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,B(e);case 5:a=t.sent,c=a.data,n({type:"GET_CHANNEL",payload:c}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()}(S))}),[S,w]),Object(a.useEffect)((function(){N&&(E&&(v.filter((function(e){return e.server===E&&e._id===S}))[0]||C("/skid/".concat(E,"/").concat(N))))}),[E,S,N,v,C]),Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(P,{show:l,close:j,join:f}),Object(b.jsx)(K,{show:O,close:f}),Object(b.jsxs)("div",{className:"navbar background-tertiary",children:[Object(b.jsxs)(o.b,{to:"/skid/@me",children:[Object(b.jsx)("div",{className:"selected-noti ".concat(E?null:"active")}),Object(b.jsx)("div",{className:"navbar-server hover-skid background-primary ".concat(E?null:"home-selected"),children:Object(b.jsx)("span",{className:"tool",children:"Home"})})]}),n[0]&&Object(b.jsx)("div",{className:"divider background-primary"}),n.map((function(e,t){return e?Object(b.jsxs)(o.b,{to:"/skid/".concat(e._id,"/redirect"),children:[Object(b.jsx)("div",{className:"selected-noti ".concat(e._id===E?"active":null)}),Object(b.jsx)("div",{className:"navbar-server hover-server background-primary ".concat(e._id===E?"server-selected":null),onClick:function(){w(V(e._id))},children:Object(b.jsx)("span",{className:"tool",children:e.name})})]},t):null})),Object(b.jsx)("div",{className:"divider background-primary"}),Object(b.jsx)("div",{className:"navbar-server hover-server background-primary",onClick:function(){return j(!0)},children:Object(b.jsx)("span",{className:"tool",children:"Add a server"})})]})]})},q=(n(100),function(e){return e?k.a.get("https://skid.today"+"/api/v1/category/getAllCategories?serverId=".concat(e),{headers:{"x-auth-token":localStorage.getItem("token")}}):null}),X=function(e,t){return e&&t?k.a.post("https://skid.today/api/v1/category/createCategory",{serverId:e,categoryName:t},{headers:{"x-auth-token":localStorage.getItem("token")}}):null},Z=function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"REMINDER",payload:e||JSON.parse(localStorage.getItem("reminder"))})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},$=(n(101),function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(i.b)(),o=Object(u.g)().serverId,l=Object(a.useCallback)((function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-new-category").click()}),[e]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",l,!1),function(){return document.removeEventListener("keydown",l,!1)}}),[l]),Object(b.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:function(t){t.preventDefault(),s(function(e,t){return function(){var n=Object(g.a)(y.a.mark((function n(a){var c,r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,X(e,t);case 3:c=n.sent,r=c.data,a({type:"CREATE_CATEGORY",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(o,c)),r(""),e.close(!1)},children:Object(b.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsx)("div",{className:"modal-form-header",children:Object(b.jsx)("span",{className:"modal-header-title",children:"Create category"})}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"CATEGORY NAME"}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:c,onChange:function(e){return r(e.target.value)},placeholder:"New category"})]})]}),Object(b.jsxs)("div",{className:"options-container background-secondary",children:[Object(b.jsx)("button",{type:"button",onClick:function(){return e.close(!1)},className:"cancel-button",children:"Cancel"}),Object(b.jsx)("button",{type:"submit",id:"submit-new-category",className:"submit-button",children:"Create category"})]})]})})}),ee=n(56),te=(n(102),function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(i.b)(),o=Object(u.g)().serverId,l=Object(a.useCallback)((function(t){"Escape"===t.key&&e.close(!1),"Enter"===t.key&&document.getElementById("submit-new-channel").click()}),[e]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",l,!1),function(){return document.removeEventListener("keydown",l,!1)}}),[l]),Object(b.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:function(t){t.preventDefault(),s(function(e,t,n){return function(){var a=Object(g.a)(y.a.mark((function a(c){var r,s;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,H(e,t,n);case 3:r=a.sent,s=r.data,c({type:"CREATE_CHANNEL",payload:s}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()}(o,e.categoryId,c)),r(""),e.setCategoryId(""),e.close(!1)},children:Object(b.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsxs)("div",{className:"modal-form-header",children:[Object(b.jsx)("span",{className:"modal-header-title",children:"Create text channel"}),Object(b.jsxs)("small",{className:"modal-header-desc",children:["in ",e.categoryId]})]}),Object(b.jsxs)("div",{className:"modal-select-container",children:[Object(b.jsx)("span",{className:"modal-select-header",children:"CHANNEL TYPE"}),Object(b.jsxs)("div",{className:"modal-type-container",children:[Object(b.jsxs)("div",{className:"modal-select-type modal-selected-type",children:[Object(b.jsx)("div",{className:"select-check-wrapper",children:Object(b.jsx)("div",{className:"select-check"})}),Object(b.jsx)(O.d,{className:"select-type-icon"}),Object(b.jsxs)("div",{className:"select-type-info",children:[Object(b.jsx)("span",{className:"select-type-name",children:"Text Channel"}),Object(b.jsx)("small",{className:"select-type-desc",children:"Post images, GIFs, opinions and puns"})]})]}),Object(b.jsxs)("div",{className:"modal-select-type modal-select-hover",children:[Object(b.jsx)("div",{className:"unselect-check-wrapper",children:Object(b.jsx)("div",{className:"unselect-check"})}),Object(b.jsx)(ee.a,{className:"select-type-icon"}),Object(b.jsxs)("div",{className:"select-type-info",children:[Object(b.jsx)("span",{className:"select-type-name",children:"Voice Channel"}),Object(b.jsx)("small",{className:"select-type-desc",children:"Hang out with voice, video and screen sharing"})]})]})]})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"CHANNEL NAME"}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:c,onChange:function(e){r(e.target.value)},placeholder:"new-channel"})]})]}),Object(b.jsxs)("div",{className:"options-container background-secondary",children:[Object(b.jsx)("button",{type:"button",onClick:function(){e.setCategoryId(""),e.close(!1)},className:"cancel-button",children:"Cancel"}),Object(b.jsx)("button",{type:"submit",id:"submit-new-channel",className:"submit-button",children:"Create channel"})]})]})})}),ne=(n(103),function(e){var t,n=Object(u.g)().serverId,c=Object(a.useState)(n.slice(-6,-1)),r=Object(d.a)(c,2),s=r[0],o=r[1],l=Object(a.useState)(!1),j=Object(d.a)(l,2),m=j[0],h=j[1],p=Object(a.useState)(""),O=Object(d.a)(p,2),f=O[0],v=O[1],x=Object(a.useState)(!1),N=Object(d.a)(x,2),k=N[0],E=N[1],S=Object(i.b)(),w=Object(i.c)((function(e){return e.invite.allInvites}));Object(a.useEffect)((function(){var e=w.filter((function(e){return e.server===n}));h(void 0!==e[0]),e[0]&&v(e[0].invite)}),[n,w]);var C=Object(a.useCallback)((function(t){"Escape"===t.key&&e.close(!1)}),[e]);return Object(a.useEffect)((function(){return document.addEventListener("keydown",C,!1),function(){return document.removeEventListener("keydown",C,!1)}}),[C]),m?Object(b.jsx)("div",{className:"modal-underbody ".concat(e.show&&"show"),children:Object(b.jsx)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsx)("div",{className:"modal-form-header-invite",children:Object(b.jsx)("span",{className:"modal-header-title-invite",children:"Invite friends to the server!"})}),Object(b.jsxs)("div",{className:"modal-form-input-container-invite",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"SERVER INVITE"}),Object(b.jsxs)("div",{className:"modal-form-input-readonly-container",children:[Object(b.jsx)("input",{type:"text",className:"modal-form-input-readonly",value:f,readOnly:!0}),Object(b.jsx)("button",{type:"button",className:"modal-form-button-readonly-copy ".concat(k&&"green"),onClick:function(){E(!0),navigator.clipboard.writeText("https://skid.today/invite/".concat(f)),clearTimeout(t),t=setTimeout((function(){E(!1)}),1e3)},children:k?"Copied":"Copy"})]})]})]})})}):Object(b.jsx)("form",{className:"modal-underbody ".concat(e.show&&"show"),onSubmit:function(e){e.preventDefault(),S(function(e,t){return function(){var n=Object(g.a)(y.a.mark((function n(a){var c,r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,U(e,t);case 3:c=n.sent,r=c.data,a({type:"CREATE_INVITE",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(n,s))},children:Object(b.jsxs)("div",{className:"modal-container-app background-primary ".concat(e.show&&"show"),children:[Object(b.jsxs)("div",{className:"modal-form",children:[Object(b.jsxs)("div",{className:"modal-form-header",children:[Object(b.jsx)("span",{className:"modal-header-title",children:"Create Server Invite"}),Object(b.jsx)("small",{className:"modal-header-desc",children:"Give your server personality with a custom invite."})]}),Object(b.jsxs)("div",{className:"modal-form-input-container",children:[Object(b.jsx)("span",{className:"modal-form-input-header",children:"SERVER INVITE"}),Object(b.jsx)("input",{type:"text",className:"modal-form-input",value:s,onChange:function(e){return o(e.target.value)},placeholder:"fun-server"})]})]}),Object(b.jsxs)("div",{className:"options-container background-secondary",children:[Object(b.jsx)("button",{type:"button",onClick:function(){return e.close(!1)},className:"cancel-button",children:"Cancel"}),Object(b.jsx)("button",{type:"submit",id:"submit-new-category",className:"submit-button",children:"Create Server Invite"})]})]})})}),ae=n(28),ce=n(57),re=(n(104),function(e){var t=Object(a.useState)(""),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(i.c)((function(e){return e.user})),o=Object(i.b)();Object(a.useEffect)((function(){r(s.image)}),[s]);return Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)("div",{className:"settings ".concat(e.class),children:[Object(b.jsx)("div",{className:"close",onClick:function(){return e.close(!1)},children:Object(b.jsx)(ae.a,{size:"18"})}),Object(b.jsx)("section",{className:"tabs",children:Object(b.jsxs)("ul",{className:"tab-buttons-container",children:[Object(b.jsxs)("div",{className:"tab-section",children:[Object(b.jsx)("span",{className:"font-display section-title",children:"USER SETTINGS"}),Object(b.jsxs)("div",{className:"section-items",children:[Object(b.jsx)("button",{className:"section-button text-channel-colour selected",children:"My Account"}),Object(b.jsx)("button",{className:"section-button text-channel-colour",children:"User Profile"}),Object(b.jsx)("button",{className:"section-button text-channel-colour",children:"Privacy & Safety"}),Object(b.jsx)("button",{className:"section-button text-channel-colour",children:"Authorised Apps"}),Object(b.jsx)("button",{className:"section-button text-channel-colour",children:"Connections"})]})]}),Object(b.jsx)("div",{className:"divider-options"}),Object(b.jsx)("form",{className:"tab-section",onSubmit:function(){o(function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{t({type:"LOGOUT",payload:null})}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:Object(b.jsx)("button",{type:"submit",className:"section-button logout text-channel-colour",children:"Logout"})})]})}),Object(b.jsxs)("section",{className:"options",children:[Object(b.jsx)("div",{className:"header-title-option",children:"My Account"}),Object(b.jsxs)("form",{className:"option",onSubmit:function(e){var t;e.preventDefault(),o((t=c,function(){var e=Object(g.a)(y.a.mark((function e(n){var a,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w(t);case 3:a=e.sent,c=a.data,n({type:"IMAGE",payload:c}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()))},children:[Object(b.jsx)("span",{className:"option-title",children:"Profile Picture URL"}),Object(b.jsx)("input",{type:"url",className:"modal-form-input-o",pattern:"https://.*",value:c||"https://cdn.skid.rocks/img/1f0bfc0865d324c2587920a7d80c609b.png",onChange:function(e){return r(e.target.value)},placeholder:""}),Object(b.jsx)("button",{type:"submit",className:"submit-button-save",children:"Save"})]})]})]})})}),se=function(e){var t=Object(a.useState)(!1),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),o=Object(d.a)(s,2),l=o[0],u=o[1],j=Object(i.c)((function(e){return e.user}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(re,{close:r,class:"".concat(c&&"active")}),Object(b.jsxs)("section",{className:"user-info background-secondary-alt ".concat(e.className),children:[Object(b.jsxs)("div",{className:"profile-container",children:[Object(b.jsx)("img",{className:"profile-image",src:j.image||"https://cdn.skid.rocks/img/1f0bfc0865d324c2587920a7d80c609b.png",alt:""}),Object(b.jsxs)("div",{className:"profile-name-container",children:[Object(b.jsx)("span",{className:"profile-name",children:j.username}),Object(b.jsx)("small",{className:"profile-tag",children:j._id})]})]}),Object(b.jsxs)("div",{className:"buttons-container",children:[Object(b.jsxs)("div",{className:"button-wrapper",onClick:function(){return u(!l)},children:[Object(b.jsx)("span",{className:"button-tool",children:l?"Unmute":"Mute"}),l?Object(b.jsx)(ae.c,{className:"button"}):Object(b.jsx)(ae.b,{className:"button"})]}),Object(b.jsxs)("div",{className:"button-wrapper",onClick:function(){return r(!0)},children:[Object(b.jsx)("span",{className:"button-tool",children:"Settings"}),Object(b.jsx)(ce.a,{className:"button"})]})]})]})]})},oe=function(e){var t=Object(a.useState)(!0),n=Object(d.a)(t,2),c=n[0],r=n[1],s=Object(u.g)(),l=s.serverId,j=s.channelId,m=Object(i.c)((function(e){return e.channel.allServerChannels}));return Object(b.jsxs)("div",{className:"category",children:[Object(b.jsxs)("div",{className:"category-header text-channel-colour-group",children:[c?Object(b.jsx)(O.a,{className:"category-chevron colour-group-item",onClick:function(){return r(!c)}}):Object(b.jsx)(O.b,{className:"category-chevron colour-group-item",onClick:function(){return r(!c)}}),Object(b.jsx)("span",{className:"category-header-text font-display colour-group-item",onClick:function(){return r(!c)},children:e.category.name.toUpperCase()}),Object(b.jsx)(O.e,{className:"category-add colour-group-item",onClick:function(){e.setShowNewChannelModal(!0),e.setCategoryId(e.category._id)}})]}),Object(b.jsx)("div",{className:"children",children:m.filter((function(t){return t.category===e.category._id})).map((function(e,t){return c&&Object(b.jsx)(o.b,{to:"/skid/".concat(l,"/").concat(e._id),children:Object(b.jsxs)("div",{className:"channel text-channel-colour ".concat(j===e._id?"selected":""),children:[Object(b.jsx)(O.d,{className:"channel-hashtag text-channel-colour"}),Object(b.jsx)("span",{className:"channel-title font-primary",children:e.name})]})},t)}))})]})},ie=function(){var e=Object(a.useState)(!1),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(!1),s=Object(d.a)(r,2),o=s[0],l=s[1],j=Object(a.useState)(!1),m=Object(d.a)(j,2),p=m[0],f=m[1],v=Object(a.useState)(""),x=Object(d.a)(v,2),N=x[0],k=x[1],E=Object(a.useState)(!1),S=Object(d.a)(E,2),w=S[0],C=S[1],I=Object(a.useState)([]),_=Object(d.a)(I,2),T=_[0],A=_[1],R=Object(a.useRef)(),M=Object(i.c)((function(e){return e.other.reminder})),D=Object(i.c)((function(e){return e.server.currentServer})),F=Object(i.c)((function(e){return e.category.allServerCategories})),B=Object(i.c)((function(e){return e.user})),H=Object(u.g)(),P=H.serverId,Y=H.channelId,U=Object(u.f)(),W=Object(i.b)(),z=h();Object(a.useEffect)((function(){W(Z()),W(V(P)),W(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,q(e);case 3:a=t.sent,c=a.data,n({type:"GET_ALL_CATEGORIES",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(P)),W(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,J(e);case 3:a=t.sent,c=a.data,n({type:"GET_INVITE",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(P))}),[W,P,Y]),Object(a.useEffect)((function(){A(F)}),[F]);var K=Object(a.useCallback)((function(e){if(n)return R.current&&!R.current.contains(e.target)?c(!1):void 0}),[n]);Object(a.useEffect)((function(){return document.addEventListener("click",K),function(){return document.removeEventListener("click",K)}}),[n,K]);var Q=function(){z.emit("deleteServer",P),W(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,L(e);case 3:n({type:"DELETE_SERVER",payload:e}),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.log(t.t0);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})));return function(e){return t.apply(this,arguments)}}()}(P)),U("/skid/@me")},X=function(){W(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,G(e);case 3:a=t.sent,c=a.data,n({type:"LEAVE_SERVER",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(P)),U("/skid/@me")};return D._id?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(ne,{show:w,close:C}),Object(b.jsx)($,{show:o,close:l}),Object(b.jsx)(te,{categoryId:N,setCategoryId:k,show:p,close:f}),Object(b.jsx)(se,{}),Object(b.jsx)("nav",{className:"channel-bar background-secondary noselect ".concat(M&&"rHeight"),children:Object(b.jsxs)("div",{className:"channel-bar-items",children:[Object(b.jsxs)("section",{className:"server-name",onClick:function(){return c(!n)},children:[Object(b.jsx)("h2",{className:"server-name-header font-primary",children:D.name}),Object(b.jsx)(O.a,{className:"server-name-chevron"}),Object(b.jsx)("ul",{ref:R,className:"context-menu ".concat(n&&"on"),children:"625c7d70df1a464bb9d6d059"!==P?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("li",{className:"context-menu-item blue text-blue",onClick:function(){return C(!0)},children:Object(b.jsx)("button",{children:"Invite People"})}),Object(b.jsx)("li",{className:"context-menu-item blue",onClick:function(){return l(!0)},children:Object(b.jsx)("button",{children:"Create Category"})}),B._id!==D.owner&&Object(b.jsx)("li",{className:"context-menu-item red",onClick:function(){return X()},children:Object(b.jsx)("button",{children:"Leave Server"})}),B._id===D.owner&&Object(b.jsx)("li",{className:"context-menu-item red",onClick:function(){return Q()},children:Object(b.jsx)("button",{children:"Delete Server"})})]}):null})]}),Object(b.jsx)("div",{className:"channels",children:T.map((function(e,t){return Object(b.jsx)(oe,{category:e,setCategoryId:k,setShowNewChannelModal:f},t)}))})]})})]}):Object(b.jsx)("nav",{className:"channel-bar background-secondary noselect ".concat(M&&"rHeight"),children:Object(b.jsxs)("div",{className:"channel-bar-items",children:[Object(b.jsx)("section",{className:"server-name"}),Object(b.jsx)("div",{className:"channels"})]})})},le=function(e,t){return e&&t?k.a.get("https://skid.today"+"/api/v1/message/getAllMessages?serverId=".concat(e,"&channelId=").concat(t),{headers:{"x-auth-token":localStorage.getItem("token")}}):null},ue=function(e,t,n,a){return e&&t&&n&&a?k.a.post("https://skid.today/api/v1/message/createMessage",{content:e,serverId:t,categoryId:n,channelId:a},{headers:{"x-auth-token":localStorage.getItem("token")}}):"awd"},de=function(e,t,n,a){return function(){var c=Object(g.a)(y.a.mark((function c(r){var s,o;return y.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.prev=0,c.next=3,ue(e,t,n,a);case 3:s=c.sent,o=s.data,r({type:"CREATE_MESSAGE",payload:o}),c.next=11;break;case 8:c.prev=8,c.t0=c.catch(0),console.log(c.t0);case 11:case"end":return c.stop()}}),c,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}()},je=(n(105),function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(a.useState)(""),s=Object(d.a)(r,2),o=s[0],l=s[1],j=Object(a.useState)([]),m=Object(d.a)(j,2),p=m[0],O=m[1],f=Object(i.c)((function(e){return e.user})),v=Object(i.c)((function(e){return e.channel.currentChannel})),x=Object(i.c)((function(e){return e.message.allChannelMessages})),N=Object(i.c)((function(e){return e.other.reminder})),k=Object(i.c)((function(e){return e.message.currentMessage})),E=Object(u.g)(),S=E.serverId,w=E.channelId,C=h(),I=Object(i.b)();Object(a.useEffect)((function(){"redirect"!==w&&I(function(e,t){return function(){var n=Object(g.a)(y.a.mark((function n(a){var c,r;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,le(e,t);case 3:c=n.sent,r=c.data,a({type:"GET_ALL_MESSAGES",payload:r}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}()}(S,w))}),[I,S,w]),Object(a.useEffect)((function(){O(x)}),[x,O]),Object(a.useEffect)((function(){(C||n.owner)&&C.emit("message",n)}),[C,n]),Object(a.useEffect)((function(){c(k)}),[k]),Object(a.useEffect)((function(){C&&(C.off("message"),C.on("message",(function(e){e.owner!==f._id&&(e.server===S&&e.channel===w?I(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:try{n({type:"ADD_MESSAGE_TO_ALL",payload:e})}catch(a){console.log(a)}case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(e)):I(function(e,t){return function(){var n=Object(g.a)(y.a.mark((function n(a){return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:try{a({type:"NOTIFY_SERVER_CHANNEL",payload:{serverId:e,channelId:t}})}catch(c){console.log(c)}case 1:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}()}(e.messageServerId,e.messageChannel)))})))}),[C,f,S,w,I]);var _=function(){var e=Object(g.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),I(de(o,S,v.category,w)),l("");case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return v._id===w?Object(b.jsxs)("div",{className:"user-content background-primary ".concat(N&&"reminder-user-content"),children:[Object(b.jsx)("div",{className:"channel-name background-primary",children:Object(b.jsx)("span",{className:"channel-info-name",children:v.name})}),Object(b.jsxs)("div",{className:"chat",children:[Object(b.jsx)("div",{className:"chat-bar-container",children:Object(b.jsx)("form",{className:"chat-bar background-primary-alt",onSubmit:_,children:Object(b.jsx)("input",{type:"text",placeholder:"Message #".concat(v.name),value:o,onChange:function(e){return l(e.target.value)},className:"chat-bar-area"})})}),Object(b.jsxs)("div",{className:"chat-container",children:[p.map((function(e,t){return e.small?Object(b.jsx)("div",{className:"chat-item-small",children:Object(b.jsx)("div",{className:"chat-item-content",children:Object(b.jsx)("span",{className:"chat-item-text",children:e.content})})},e._id):Object(b.jsxs)("div",{className:"chat-item",children:[Object(b.jsx)("img",{className:"chat-item-picture",src:e.image,alt:""}),Object(b.jsxs)("div",{className:"chat-item-content",children:[Object(b.jsxs)("div",{className:"chat-user-info",children:[Object(b.jsx)("span",{className:"chat-item-name",children:e.ownerName}),Object(b.jsx)("span",{className:"chat-item-date",children:new Date(e.creation).toLocaleDateString()})]}),Object(b.jsx)("span",{className:"chat-item-text",children:e.content})]})]},t)})),Object(b.jsxs)("div",{className:"chat-container-header",children:[Object(b.jsxs)("span",{className:"chat-contiainer-header-text-large",children:["Welcome to #",v.name,"!"]}),Object(b.jsxs)("small",{className:"chat-contiainer-header-text-small",children:["This is the start of the #",v.name," channel."]})]})]})]}),Object(b.jsxs)("div",{className:"member-list background-secondary",children:[Object(b.jsxs)("div",{className:"member-list-category",children:[Object(b.jsx)("span",{className:"member-list-name text-channel-colour",children:"ONLINE"}),Object(b.jsx)("div",{className:"members",children:Object(b.jsxs)("div",{className:"member",children:[Object(b.jsx)("div",{className:"member-profile-image"}),Object(b.jsx)("span",{className:"member-name text-primary",children:"genericuser"})]})})]}),Object(b.jsxs)("div",{className:"member-list-category",children:[Object(b.jsx)("span",{className:"member-list-name text-channel-colour",children:"OFFLINE"}),Object(b.jsx)("div",{className:"members",children:Object(b.jsxs)("div",{className:"member",children:[Object(b.jsx)("div",{className:"member-profile-image"}),Object(b.jsx)("span",{className:"member-name text-muted",children:"Taylor Peters"})]})})]})]})]}):Object(b.jsxs)("div",{className:"user-content background-primary ".concat(N&&"reminder-user-content"),children:[Object(b.jsx)("div",{className:"channel-name background-primary"}),Object(b.jsx)("div",{className:"chat",children:Object(b.jsx)("div",{className:"chat-bar-container",children:Object(b.jsx)("form",{className:"chat-bar background-primary-alt",onSubmit:function(e){return e.preventDefault()}})})}),Object(b.jsx)("div",{className:"member-list background-secondary"})]})}),be=(n(106),function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("reminder"))),t=Object(d.a)(e,2),n=t[0],c=t[1],r=Object(i.b)();return Object(a.useEffect)((function(){null===localStorage.getItem("reminder")&&localStorage.setItem("reminder",!0)}),[]),Object(b.jsx)(b.Fragment,{children:n&&Object(b.jsxs)("div",{className:"reminder",children:[Object(b.jsxs)("div",{className:"reminder-title",children:["Have you heard of notds? Check out their amazing mutitool!",Object(b.jsx)("a",{href:"https://github.com/jugoslovenska/notds",className:"reminder-button",children:"click here!"})]}),Object(b.jsx)(ae.a,{className:"reminder-close",onClick:function(){return c(!1),localStorage.setItem("reminder",JSON.stringify(!1)),void r(Z(!1))}})]})})}),me=function(){var e=Object(i.c)((function(e){return e.user})),t=Object(i.b)(),n=Object(u.f)();return Object(a.useEffect)((function(){e._id||n("/login"),t(M())}),[e,n,t]),Object(b.jsxs)("div",{className:"flex h-screen w-screen overflow-hidden",children:[Object(b.jsx)(Q,{}),Object(b.jsxs)("div",{className:"reminder-container",children:[Object(b.jsx)(be,{}),Object(b.jsxs)("div",{className:"flex h-full w-full transition-none user-context-navbar-container",children:[Object(b.jsx)(ie,{}),Object(b.jsx)(je,{})]})]})]})},he=function(){var e=Object(i.c)((function(e){return e.user})),t=Object(i.b)(),n=Object(u.f)();return Object(a.useEffect)((function(){e._id||n("/login"),t(M())}),[e,n,t]),Object(b.jsxs)("div",{className:"flex h-screen w-screen overflow-hidden",children:[Object(b.jsx)(Q,{}),Object(b.jsx)(se,{className:"ml-[72px]"}),Object(b.jsxs)("div",{className:"reminder-container",children:[Object(b.jsx)(be,{}),Object(b.jsxs)("div",{className:"flex transition-none user-context-navbar-container",children:[Object(b.jsx)("nav",{className:"channel-bar background-secondary"}),Object(b.jsx)("div",{className:"user-content background-primary flex flex-grow"})]})]})]})},pe=(n(107),function(){var e=Object(i.c)((function(e){return e.user})),t=Object(u.f)(),n=Object(i.b)(),c=Object(u.g)().inviteCode,r=Object(i.c)((function(e){return e.invite.serverFromInvite}));Object(a.useEffect)((function(){n(function(e){return function(){var t=Object(g.a)(y.a.mark((function t(n){var a,c;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Y(e);case 3:a=t.sent,c=a.data,n({type:"GET_SERVER_FROM_INVITE",payload:c}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}()}(c))}),[n,c]);return r._id?Object(b.jsx)("div",{className:"invite-body",children:Object(b.jsxs)("div",{className:"modal-container-inv background-primary",children:[Object(b.jsx)("div",{className:"modal-form-inv",children:Object(b.jsxs)("div",{className:"modal-form-header-inv",children:[Object(b.jsx)("small",{className:"modal-header-desc-inv",children:"You have been invited to join"}),Object(b.jsxs)("span",{className:"modal-header-title-inv",children:[r.name,"!"]})]})}),Object(b.jsx)("button",{type:"submit",onClick:function(){if(!e._id)return t("/login");n(z(c)),t("/skid/".concat(r._id,"/redirect"))},className:"submit-button-inv",children:"Accept Invite"})]})}):Object(b.jsx)("div",{className:"invite-body",children:Object(b.jsxs)("div",{className:"modal-container-inv2 show background-primary",children:[Object(b.jsx)("div",{className:"modal-form",children:Object(b.jsxs)("div",{className:"modal-form-header-inv2",children:[Object(b.jsx)("span",{className:"modal-header-title-inv2",children:"Invite Invalid"}),Object(b.jsx)("small",{className:"modal-header-desc-inv2",children:"This invite may be expired or you might not have permission to join."})]})}),Object(b.jsx)("button",{type:"submit",onClick:function(){if(!e._id)return t("/login");t("/skid/@me")},className:"submit-button-inv",children:"Continue to Site"})]})})}),Oe=function(){var e=Object(u.f)();return Object(a.useEffect)((function(){e("/skid/@me")}),[e]),null},fe=function(){var e=Object(i.c)((function(e){return e.user})),t=h();return Object(a.useEffect)((function(){t&&e.token&&t.emit("online",Object(l.a)({},e))}),[t,e]),Object(b.jsx)(b.Fragment,{children:Object(b.jsxs)(u.c,{children:[Object(b.jsx)(u.a,{path:"/",element:Object(b.jsx)(v,{})}),Object(b.jsx)(u.a,{path:"/login",element:Object(b.jsx)(I,{show:!0})}),Object(b.jsx)(u.a,{path:"/register",element:Object(b.jsx)(T,{show:!0})}),Object(b.jsx)(u.a,{path:"/invite/:inviteCode",element:Object(b.jsx)(pe,{})}),Object(b.jsx)(u.a,{path:"/skid/:serverId/:channelId",element:Object(b.jsx)(me,{})}),Object(b.jsx)(u.a,{path:"/skid/@me",element:Object(b.jsx)(he,{})}),Object(b.jsx)(u.a,{path:"*",element:Object(b.jsx)(Oe,{})})]})})},ve=n(33),xe=n(13),ye=n(32),ge=n(58),Ne=function(e){var t=e||JSON.parse(localStorage.getItem("token"));try{return Object(l.a)({token:t},Object(ge.a)(t).data)}catch(n){return{token:JSON.stringify(null)}}},ke=Object(ve.b)({server:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentServer:{},allServers:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JOIN_INVITE":return t.payload?Object(l.a)(Object(l.a)({},e),{},{currentServer:t.payload,allServers:[].concat(Object(xe.a)(e.allServers),[t.payload])}):e;case"GET_ALL_SERVERS":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServers:Object(xe.a)(t.payload)}):e;case"CREATE_SERVER":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServers:[].concat(Object(xe.a)(e.allServers),[t.payload])}):e;case"GET_SERVER":return t.payload?Object(l.a)(Object(l.a)({},e),{},{currentServer:t.payload}):e;case"DELETE_SERVER":case"LEAVE_SERVER":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServers:e.allServers.filter((function(e){return e._id!==t.payload}))}):e;default:return e}},category:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentCategory:{},allServerCategories:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CATEGORIES":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServerCategories:t.payload}):e;case"GET_CATEGORY":return t.payload?Object(l.a)(Object(l.a)({},e),{},{currentCategory:t.payload}):e;case"CREATE_CATEGORY":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServerCategories:[].concat(Object(xe.a)(e.allServerCategories),[t.payload])}):e;case"DELETE_CATEGORY":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServerCategories:Object(xe.a)(t.payload)}):e;default:return e}},channel:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentChannel:{},redirectToChannel:null,allServerChannels:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_CHANNELS":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServerChannels:Object(xe.a)(t.payload),redirectToChannel:t.payload[0]._id}):e;case"CREATE_CHANNEL":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServerChannels:[].concat(Object(xe.a)(e.allServerChannels),[t.payload])}):e;case"GET_CHANNEL":return t.payload?Object(l.a)(Object(l.a)({},e),{},{currentChannel:t.payload}):e;case"DELETE_CHANNEL":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allServerChannels:Object(xe.a)(t.payload)}):e;default:return e}},message:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentMessage:{},allChannelMessages:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_ALL_MESSAGES":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allChannelMessages:Object(xe.a)(t.payload)}):e;case"ADD_MESSAGE_TO_ALL":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allChannelMessages:[t.payload].concat(Object(xe.a)(e.allChannelMessages))}):e;case"GET_MESSAGE":return t.payload?Object(l.a)(Object(l.a)({},e),{},{currentMessage:t.payload}):e;case"CREATE_MESSAGE":return t.payload?Object(l.a)(Object(l.a)({},e),{},{currentMessage:t.payload,allChannelMessages:[t.payload].concat(Object(xe.a)(e.allChannelMessages))}):e;case"DELETE_MESSAGE":return t.payload,e;default:return e}},invite:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serverFromInvite:{},allInvites:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_SERVER_FROM_INVITE":return t.payload?Object(l.a)(Object(l.a)({},e),{},{serverFromInvite:t.payload}):Object(l.a)(Object(l.a)({},e),{},{serverFromInvite:{}});case"GET_INVITE":if(!t.payload)return e;var n,a=Object(ye.a)(e.allInvites);try{for(a.s();!(n=a.n()).done;){var c=n.value;if(c._id===t.payload._id)return e}}catch(r){a.e(r)}finally{a.f()}return Object(l.a)(Object(l.a)({},e),{},{allInvites:[t.payload].concat(Object(xe.a)(e.allInvites))});case"CREATE_INVITE":return t.payload?Object(l.a)(Object(l.a)({},e),{},{allInvites:[t.payload].concat(Object(xe.a)(e.allInvites))}):e;default:return e}},user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ne(),t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN":return t.payload?(localStorage.setItem("token",JSON.stringify(t.payload.jwt)),Object(l.a)({},Ne(t.payload.jwt))):Object(l.a)({},Ne());case"LOGOUT":return localStorage.setItem("token",JSON.stringify(null)),Object(l.a)({},Ne());case"REGISTER":return t.payload?(localStorage.setItem("token",JSON.stringify(t.payload.jwt)),Object(l.a)({},Ne(t.payload.jwt))):Object(l.a)({},Ne());case"IMAGE":return t.payload?Object(l.a)({},Ne(t.payload.jwt)):e;default:return e}},notify:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{notify:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFY_SERVER_CHANNEL":default:return e}},other:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{reminder:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REMINDER":return Object(l.a)(Object(l.a)({},e),{},{reminder:t.payload});case"TEST":return console.log(t.payload),e;default:return e}}}),Ee=n(59),Se=Object(ve.d)(ke,Object(ve.c)(Object(ve.a)(Ee.a)));s.a.render(Object(b.jsx)(o.a,{children:Object(b.jsx)(i.a,{store:Se,children:Object(b.jsx)(p,{children:Object(b.jsx)(fe,{})})})}),document.getElementById("root"))},36:function(e,t,n){},42:function(e,t,n){},71:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){},99:function(e,t,n){}},[[108,1,2]]]);
//# sourceMappingURL=main.5f242690.chunk.js.map